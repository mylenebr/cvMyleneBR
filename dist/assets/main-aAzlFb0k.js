import{C as J,M as O,V as l,a as m,Q as tt,b as W,L as et,F as it,S as ot,E as V,W as st,c as nt,d as ht,P as at,A as rt,e as ct,R as pt,f as dt,g as X,h as q,i as lt}from"./three.module-CxBQ0KHu.js";const R={type:"change"},H={type:"start"},Y={type:"end"},K=1e-6,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},D=new m,E=new m,mt=new l,k=new l,U=new l,M=new tt,B=new l,z=new l,I=new l,A=new l;class ut extends J{constructor(t,i=null){super(t,i),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:O.ROTATE,MIDDLE:O.DOLLY,RIGHT:O.PAN},this.target=new l,this.state=s.NONE,this.keyState=s.NONE,this._lastPosition=new l,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new l,this._movePrev=new m,this._moveCurr=new m,this._lastAxis=new l,this._zoomStart=new m,this._zoomEnd=new m,this._panStart=new m,this._panEnd=new m,this._pointers=[],this._pointerPositions={},this._onPointerMove=yt.bind(this),this._onPointerDown=_t.bind(this),this._onPointerUp=ft.bind(this),this._onPointerCancel=gt.bind(this),this._onContextMenu=Mt.bind(this),this._onMouseWheel=St.bind(this),this._onKeyDown=bt.bind(this),this._onKeyUp=wt.bind(this),this._onTouchStart=Ot.bind(this),this._onTouchMove=Ct.bind(this),this._onTouchEnd=xt.bind(this),this._onMouseDown=Et.bind(this),this._onMouseMove=Pt.bind(this),this._onMouseUp=vt.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,i!==null&&(this.connect(i),this.handleResize()),this.update()}connect(t){super.connect(t),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const t=this.domElement.getBoundingClientRect(),i=this.domElement.ownerDocument.documentElement;this.screen.left=t.left+window.pageXOffset-i.clientLeft,this.screen.top=t.top+window.pageYOffset-i.clientTop,this.screen.width=t.width,this.screen.height=t.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>K&&(this.dispatchEvent(R),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>K||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(R),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=s.NONE,this.keyState=s.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(R),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(E.copy(this._panEnd).sub(this._panStart),E.lengthSq()){if(this.object.isOrthographicCamera){const t=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,i=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;E.x*=t,E.y*=i}E.multiplyScalar(this._eye.length()*this.panSpeed),k.copy(this._eye).cross(this.object.up).setLength(E.x),k.add(mt.copy(this.object.up).setLength(E.y)),this.object.position.add(k),this.target.add(k),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(E.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){A.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let t=A.length();t?(this._eye.copy(this.object.position).sub(this.target),B.copy(this._eye).normalize(),z.copy(this.object.up).normalize(),I.crossVectors(z,B).normalize(),z.setLength(this._moveCurr.y-this._movePrev.y),I.setLength(this._moveCurr.x-this._movePrev.x),A.copy(z.add(I)),U.crossVectors(A,this._eye).normalize(),t*=this.rotateSpeed,M.setFromAxisAngle(U,t),this._eye.applyQuaternion(M),this.object.up.applyQuaternion(M),this._lastAxis.copy(U),this._lastAngle=t):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),M.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(M),this.object.up.applyQuaternion(M)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let t;this.state===s.TOUCH_ZOOM_PAN?(t=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=W.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,t!==1&&t>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=W.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(t,i){return D.set((t-this.screen.left)/this.screen.width,(i-this.screen.top)/this.screen.height),D}_getMouseOnCircle(t,i){return D.set((t-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-i))/this.screen.width),D}_addPointer(t){this._pointers.push(t)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let i=0;i<this._pointers.length;i++)if(this._pointers[i].pointerId==t.pointerId){this._pointers.splice(i,1);return}}_trackPointer(t){let i=this._pointerPositions[t.pointerId];i===void 0&&(i=new m,this._pointerPositions[t.pointerId]=i),i.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const i=t.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[i.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function _t(e){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(e),e.pointerType==="touch"?this._onTouchStart(e):this._onMouseDown(e))}function yt(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchMove(e):this._onMouseMove(e))}function ft(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchEnd(e):this._onMouseUp(),this._removePointer(e),this._pointers.length===0&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function gt(e){this._removePointer(e)}function wt(){this.enabled!==!1&&(this.keyState=s.NONE,window.addEventListener("keydown",this._onKeyDown))}function bt(e){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===s.NONE&&(e.code===this.keys[s.ROTATE]&&!this.noRotate?this.keyState=s.ROTATE:e.code===this.keys[s.ZOOM]&&!this.noZoom?this.keyState=s.ZOOM:e.code===this.keys[s.PAN]&&!this.noPan&&(this.keyState=s.PAN)))}function Et(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case O.DOLLY:this.state=s.ZOOM;break;case O.ROTATE:this.state=s.ROTATE;break;case O.PAN:this.state=s.PAN;break;default:this.state=s.NONE}const i=this.keyState!==s.NONE?this.keyState:this.state;i===s.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr)):i===s.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._zoomEnd.copy(this._zoomStart)):i===s.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(H)}function Pt(e){const t=this.keyState!==s.NONE?this.keyState:this.state;t===s.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY))):t===s.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY)):t===s.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY))}function vt(){this.state=s.NONE,this.dispatchEvent(Y)}function St(e){if(this.enabled!==!1&&this.noZoom!==!0){switch(e.preventDefault(),e.deltaMode){case 2:this._zoomStart.y-=e.deltaY*.025;break;case 1:this._zoomStart.y-=e.deltaY*.01;break;default:this._zoomStart.y-=e.deltaY*25e-5;break}this.dispatchEvent(H),this.dispatchEvent(Y)}}function Mt(e){this.enabled!==!1&&e.preventDefault()}function Ot(e){switch(this._trackPointer(e),this._pointers.length){case 1:this.state=s.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=s.TOUCH_ZOOM_PAN;const t=this._pointers[0].pageX-this._pointers[1].pageX,i=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(t*t+i*i);const o=(this._pointers[0].pageX+this._pointers[1].pageX)/2,n=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(o,n)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(H)}function Ct(e){switch(this._trackPointer(e),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY));break;default:const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,o=e.pageY-t.y;this._touchZoomDistanceEnd=Math.sqrt(i*i+o*o);const n=(e.pageX+t.x)/2,r=(e.pageY+t.y)/2;this._panEnd.copy(this._getMouseOnScreen(n,r));break}}function xt(e){switch(this._pointers.length){case 0:this.state=s.NONE;break;case 1:this.state=s.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=s.TOUCH_ZOOM_PAN;for(let t=0;t<this._pointers.length;t++)if(this._pointers[t].pointerId!==e.pointerId){const i=this._pointerPositions[this._pointers[t].pointerId];this._moveCurr.copy(this._getMouseOnCircle(i.x,i.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(Y)}class Tt extends et{constructor(t){super(t)}load(t,i,o,n){const r=this,c=new it(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(d){const u=r.parse(JSON.parse(d));i&&i(u)},o,n)}parse(t){return new jt(t)}}class jt{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,i=100){const o=[],n=Dt(t,i,this.data);for(let r=0,c=n.length;r<c;r++)o.push(...n[r].toShapes());return o}}function Dt(e,t,i){const o=Array.from(e),n=t/i.resolution,r=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,c=[];let d=0,u=0;for(let _=0;_<o.length;_++){const g=o[_];if(g===`
`)d=0,u-=r;else{const w=kt(g,n,d,u,i);d+=w.offsetX,c.push(w.path)}}return c}function kt(e,t,i,o,n){const r=n.glyphs[e]||n.glyphs["?"];if(!r){console.error('THREE.Font: character "'+e+'" does not exists in font family '+n.familyName+".");return}const c=new ot;let d,u,_,g,w,y,N,b;if(r.o){const h=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let a=0,j=h.length;a<j;)switch(h[a++]){case"m":d=h[a++]*t+i,u=h[a++]*t+o,c.moveTo(d,u);break;case"l":d=h[a++]*t+i,u=h[a++]*t+o,c.lineTo(d,u);break;case"q":_=h[a++]*t+i,g=h[a++]*t+o,w=h[a++]*t+i,y=h[a++]*t+o,c.quadraticCurveTo(w,y,_,g);break;case"b":_=h[a++]*t+i,g=h[a++]*t+o,w=h[a++]*t+i,y=h[a++]*t+o,N=h[a++]*t+i,b=h[a++]*t+o,c.bezierCurveTo(w,y,N,b,_,g);break}}return{offsetX:r.ha*t,path:c}}class zt extends V{constructor(t,i={}){const o=i.font;if(o===void 0)super();else{const n=o.generateShapes(t,i.size);i.depth===void 0&&(i.depth=50),i.bevelThickness===void 0&&(i.bevelThickness=10),i.bevelSize===void 0&&(i.bevelSize=8),i.bevelEnabled===void 0&&(i.bevelEnabled=!1),super(n,i)}this.type="TextGeometry"}}let p,f,P,L,T,S,v=[],x=null,F=!1,G=null,At=1e3;Lt();function C(e,t,i,o){const n=[];for(let b=0;b<10;b++){const h=b%2==1?10:20,a=b/5*Math.PI;n.push(new m(Math.cos(a)*h,Math.sin(a)*h))}const c=new dt(n),d=new X({color:6037302,wireframe:!1}),_=[new X({color:16761566,wireframe:!1}),d],g={depth:20,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},w=new V(c,g),y=new q(w,_);return y.position.set(e,t,i),y.userData.isHovered=!1,y.name=o,new Tt().load("https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",b=>{const h=new zt("Star",{font:b,size:.4,height:.05}),a=new lt({color:16777215}),j=new q(h,a);h.computeBoundingBox();const Z=h.boundingBox,$=Z.max.x-Z.min.x;j.position.set(-$/2,1.5,0),y.add(j)}),y}function Lt(){P=new st({antialias:!0}),P.setPixelRatio(window.devicePixelRatio),P.setSize(window.innerWidth,window.innerHeight),P.setAnimationLoop(Q),document.body.appendChild(P.domElement),f=new nt,f.background=new ht(16767980),p=new at(45,window.innerWidth/window.innerHeight,1,1e3),p.position.set(0,0,500),L=new ut(p,P.domElement),L.minDistance=200,L.maxDistance=500,f.add(new rt(6710886));const e=new ct(16777215,3,0,0);e.position.copy(p.position),f.add(e);const t=C(-250,50,10,"star1");f.add(t);const i=C(-150,-100,10,"star2");f.add(i);const o=C(-50,30,10,"star3");f.add(o);const n=C(30,-120,10,"star4");f.add(n);const r=C(200,20,10,"star5");f.add(r),v.push(t),v.push(i),v.push(o),v.push(n),v.push(r),T=new pt,S=new m,window.addEventListener("mousemove",Nt),window.addEventListener("click",Zt),window.addEventListener("resize",Rt)}function Nt(e){S.x=e.clientX/window.innerWidth*2-1,S.y=-(e.clientY/window.innerHeight)*2+1,T.setFromCamera(S,p),T.intersectObjects(v).forEach(i=>{const o=i.object;o.userData.spinning||(o.userData.spinning=!0,o.userData.startRotation=o.rotation.y,o.userData.targetRotation=o.rotation.y+Math.PI*2)})}function Zt(e){S.x=e.clientX/window.innerWidth*2-1,S.y=-(e.clientY/window.innerHeight)*2+1,T.setFromCamera(S,p);const t=T.intersectObjects(v);t.length>0&&(x=t[0].object,F=!0,G=performance.now(),zoomStartPos=p.position.clone())}function Rt(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),P.setSize(window.innerWidth,window.innerHeight)}function Ut(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function Q(){if(requestAnimationFrame(Q),L.update(),v.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.001,Math.cos(e.rotation.y)>0?e.position.y+=.005:e.position.y-=.005,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))}),F&&x){const e=performance.now(),t=Math.min((e-G)/At,1),i=Ut(t),o=x.position.clone().add(new l(0,0,3));p.position.lerpVectors(p.position,o,i),p.lookAt(x.position),t>=1&&(F=!1,setTimeout(()=>{window.location.href=`./${x.name}.html`},300))}P.render(f,p)}
