import{C as te,V as b,W as ne,P as oe,T as se,S as ae,a as ie,A as re,b as ce,R as le,c as de,d as W,e as I,F as _,f as X,M as pe,g as F,h as H,i as ue,j as O,k as fe,B as me,l as D,m as we,n as he,o as V,p as ge,q as T,E as xe,r as Me,s as be}from"./TextGeometry-DLRusUfI.js";let l,i,x,R,k,S,v,M=[],Y=[];const j=[];let y,u,z,L,B=null,G=!1,Z=0,ye=1e3,q=null,U=16761566,Se=6037302,Pe=6375504;const P=[new b(-250,50,10),new b(-150,-100,10),new b(-50,30,10),new b(30,-120,10),new b(200,20,10)],N=new te(P),A=N.computeFrenetFrames(100,!0);Ee();function ke(){new _().load("fonts/optimer_bold.typeface.json",function(e){const n=new X("Mylène Bénier-Rollet",{font:e,size:20,depth:5,height:0,curveSegments:8});n.center();const o=new pe({color:U});y=new F(n,o),y.position.set(0,100,10),i.add(y),u=n.attributes.position,z=u.array.slice()},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})}function ve(){const t=new H().load("textures/pictures/cv_picture.jpeg"),e=new ue(30,30),n=new O({map:t,transparent:!1});L=new F(e,n),L.position.set(-320,130,10),i.add(L)}function C(t,e,n){const o=[];for(let p=0;p<10;p++){const g=p%2==1?10:20,E=p/5*Math.PI;o.push(new I(Math.cos(E)*g,Math.sin(E)*g))}const r=new ge(o),f=new T({color:Se,wireframe:!1}),c=[new T({color:U,wireframe:!1}),f],d=20,m={depth:d,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},w=new xe(r,m),h=new F(w,c);return h.position.set(t.x,t.y,t.z),h.userData.isHovered=!1,h.name=e,new _().load("fonts/optimer_bold.typeface.json",function(p){const g=new X(n,{font:p,size:10,depth:5,height:0,curveSegments:8});g.computeBoundingBox();const E=g.boundingBox.max.x-g.boundingBox.min.x,K=d+1;g.translate(-E/2,1.5,K);const Q=new O({color:16777215}),ee=new F(g,Q);h.add(ee)},function(p){console.log(p.loaded/p.total*100+"% loaded")},function(p){console.log("An error happened")}),h}function Ce(){const t=new H().load("textures/sprites/sparkle.png"),e=new Me({map:t,color:16777130,transparent:!0,blending:V,depthWrite:!1});for(let n=0;n<2e3;n++){const o=new be(e.clone());o.scale.set(1,1,1),i.add(o),Y.push({sprite:o,offset:Math.random()})}}function ze(){i.fog=new fe(0,8e-4);const t=new me,e=[],n=new H,o=s=>{s.colorSpace=D},a=n.load("textures/sprites/snowflake2.png",o);a.colorSpace=D;const r=n.load("textures/sprites/snowflake4.png",o);r.colorSpace=D;const f=n.load("textures/sprites/snowflake5.png",o);f.colorSpace=D;for(let s=0;s<2e3;s++){const c=Math.random()*2e3-1e3,d=Math.random()*2e3-1e3,m=Math.random()*2e3-1e3;e.push(c,d,m)}t.setAttribute("position",new we(e,3)),v=[[[.92,.31,.54],a,20],[[1,1,1],r,11],[[.92,.31,.54],f,6]];for(let s=0;s<v.length;s++){const c=v[s][0],d=v[s][1],m=v[s][2];j[s]=new he({size:m,map:d,blending:V,depthTest:!1,depthWrite:!1,transparent:!0}),j[s].color.setHSL(c[0],c[1],c[2]);const w=new W(t,j[s]),h=6;w.rotation.x=Math.random()*h,w.rotation.y=Math.random()*h,w.rotation.z=Math.random()*h,i.add(w)}}function Be(t){B=t,Z=performance.now(),G=!0,q=l.position.clone()}function Ee(){x=new ne({antialias:!0}),x.setPixelRatio(window.devicePixelRatio),x.setSize(window.innerWidth,window.innerHeight),x.setAnimationLoop($),document.body.appendChild(x.domElement),l=new oe(45,window.innerWidth/window.innerHeight,1,1e3),l.position.set(0,0,500),R=new se(l,x.domElement),R.minDistance=200,R.maxDistance=500,i=new ae,i.background=new ie(Pe),i.add(new re(6710886));const t=new ce(16777215,3,0,0);t.position.copy(l.position),i.add(t),ke(),ve(),ze();const e=C(P[0],"experience","Experience");i.add(e),M.push(e);const n=C(P[1],"competences","Compétences");i.add(n),M.push(n);const o=C(P[2],"presentation","Présentation");i.add(o),M.push(o);const a=C(P[3],"interets","Intérets");i.add(a),M.push(a);const r=C(P[4],"cursus","Cursus");i.add(r),M.push(r),Ce(),k=new le,S=new I,window.addEventListener("mousemove",De),window.addEventListener("click",Re),window.addEventListener("resize",Le)}function De(t){S.x=t.clientX/window.innerWidth*2-1,S.y=-(t.clientY/window.innerHeight)*2+1,k.setFromCamera(S,l),k.intersectObjects(M).forEach(n=>{const o=n.object;o.userData.spinning||(o.userData.spinning=!0,o.userData.startRotation=o.rotation.y,o.userData.targetRotation=o.rotation.y+Math.PI*2)})}function Re(t){S.x=t.clientX/window.innerWidth*2-1,S.y=-(t.clientY/window.innerHeight)*2+1,k.setFromCamera(S,l);const e=k.intersectObjects(M);e.length>0&&Be(e[0].object),k.intersectObjects([L]).length>0&&(window.location.href="index.html")}function Le(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight)}function Fe(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}function je(t){if(y){let e=J.getElapsedTime(),n=3,o=e%n/n;if(o<.5){let a=o*2;u.needsUpdate=!0;for(let r=0;r<u.count;r++){const f=z[r*3],s=z[r*3+1],c=z[r*3+2];let d=(f-y.geometry.boundingBox.min.x)/(y.geometry.boundingBox.max.x-y.geometry.boundingBox.min.x),m=a-d,w=0;m>0&&m<.2&&(w=Math.sin(m*Math.PI/.2)*7),u.setXYZ(r,f,s+w,c)}}else{u.needsUpdate=!0;for(let a=0;a<u.count;a++)u.setXYZ(a,u.getX(a),z[a*3+1],u.getZ(a))}}}function Ae(t){Y.forEach(e=>{const n=(t*.05+e.offset)%1,o=N.getPointAt(n),a=Math.floor(n*A.tangents.length),r=A.normals[a],f=A.binormals[a],s=t*2+e.offset*Math.PI*2,c=10,d=r.clone().multiplyScalar(Math.cos(s)*c).add(f.clone().multiplyScalar(Math.sin(s)*c));e.sprite.position.copy(o.clone().add(d)),e.sprite.position.add(new b((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function Ge(t){M.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.05,Math.cos(e.rotation.y)>0?e.position.y+=.005:e.position.y-=.005,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))})}function He(t){if(G&&B){const e=Math.min((t-Z)/ye,1),n=Fe(e),o=B.position.clone().add(new b(0,0,-10));l.position.lerpVectors(q,o,n),l.lookAt(B.position),e>=1&&(G=!1,setTimeout(()=>{window.location.href=`./${B.name}.html`},300))}}function $(){requestAnimationFrame($),R.update();const t=performance.now(),e=t*5e-4;je(),Ae(e),Ge(),He(t),Te()}const J=new de;function Te(){const t=J.getDelta()*.5;for(let e=0;e<i.children.length;e++){const n=i.children[e];if(n instanceof W){const o=(e<2?e+1:-(e+1))*.1;n.rotation.y+=o*t}}x.render(i,l)}
