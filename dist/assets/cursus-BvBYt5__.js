import{F as N,V as t,C as D,W as H,P as Q,d as U,S as V,e as _,A as Y,f as q,R as X,i as $,j as J,c as L,b as y,T as A,a as S,M as j,r as K,o as Z,s as ee}from"./TextGeometry-BWGeakaV.js";const te=new N;let I=null;te.load("fonts/optimer_bold.typeface.json",e=>{I=e,W(),z()});let f,i,l,b,w,k,B=16770032,F=6037302,ne=6375504,P,m,G=[];const s=-30,oe=[new t(-350,0+s,10),new t(-330,0+s,10),new t(-180,-30+s,10),new t(0,0+s,10),new t(180,-30+s,10),new t(300,0+s,10),new t(308,-8+s,10),new t(316,0+s,10),new t(308,10+s,10),new t(300,0+s,10),new t(308,0+s,10)],v=new D(oe),E=v.computeFrenetFrames(100,!0),se=["2018","2020","2023","2024"],M=-110+s,ae=[new t(-350,M,10),new t(-120,M,10),new t(90,M,10),new t(220,M,10)],ie=["bac.jpg","mpsi.jpg","ensisa.png","uqac.jpeg"],u=[new t(-330,30+s,10),new t(-180,-60+s,10),new t(0,30+s,10),new t(180,-60+s,10)];let h=[],T=[],x;function R(e,n,a,o,r,c,d){if(!e)return;const p=new J(n,{font:e,size:a,depth:o,curveSegments:r});p.center();const C=new L({color:c}),g=new y(p,C);g.position.set(d.x,d.y,d.z),i.add(g)}de();function W(){R(I,"Cursus",20,2,8,B,new t(0,100,10))}function re(){const e=new A().load("textures/pictures/cv_picture_house.jpg"),n=new S(30,32),a=new j({map:e,transparent:!1});P=new y(n,a),P.position.set(-320,130,10),i.add(P);const o=new S(32,32),r=new L({color:F});m=new y(o,r),m.position.set(-320,130,9.9),i.add(m)}function ce(){const e=new A().load("textures/sprites/sparkle.png"),n=new K({map:e,color:16777130,transparent:!0,blending:Z,depthWrite:!1});for(let a=0;a<2e3;a++){const o=new ee(n.clone());o.scale.set(1,1,1),i.add(o),G.push({sprite:o,offset:Math.random()})}}function z(){for(let e=0;e<4;e++)R(I,se[e],10,1,8,B,ae[e])}function le(){for(let e=0;e<4;e++){const n=new A().load(`textures/pictures/school/${ie[e]}`),a=new S(20,32),o=new j({map:n,transparent:!1});x=new y(a,o),x.position.set(u[e].x,u[e].y,u[e].z),i.add(x),h.push(x);const r=new S(22,32),c=new L({color:F});m=new y(r,c),m.position.set(u[e].x,u[e].y,u[e].z-.1),i.add(m),T.push(m)}}function de(){l=new H({antialias:!0}),l.setPixelRatio(window.devicePixelRatio),l.setSize(window.innerWidth,window.innerHeight),l.setAnimationLoop(O),document.body.appendChild(l.domElement),f=new Q(45,window.innerWidth/window.innerHeight,1,1e3),f.position.set(0,0,500),b=new U(f,l.domElement),b.minDistance=200,b.maxDistance=500,i=new V,i.background=new _(ne),i.add(new Y(6710886));const e=new q(16777215,3,0,0);e.position.copy(f.position),i.add(e),W(),re(),ce(),z(),le(),w=new X,k=new $,window.addEventListener("click",pe)}function pe(e){k.x=e.clientX/window.innerWidth*2-1,k.y=-(e.clientY/window.innerHeight)*2+1,w.setFromCamera(k,f),w.intersectObjects([P]).length>0&&(window.location.href="index.html");const a=w.intersectObjects([h[0]]),o=document.getElementById("popupBac");a.length>0?o.style.display="block":o.style.display="none";const r=w.intersectObjects([h[1]]),c=document.getElementById("popupMPSI");r.length>0?c.style.display="block":c.style.display="none";const d=w.intersectObjects([h[2]]),p=document.getElementById("popupENSISA");d.length>0?p.style.display="block":p.style.display="none";const C=w.intersectObjects([h[3]]),g=document.getElementById("popupUQAC");C.length>0?g.style.display="block":g.style.display="none"}function we(e){G.forEach(n=>{const a=(e*.05+n.offset)%1,o=v.getPointAt(a),r=Math.floor(a*E.tangents.length),c=E.normals[r],d=E.binormals[r],p=c.clone().add(d.clone());n.sprite.position.copy(o.clone().add(p)),n.sprite.position.add(new t((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function me(e){h.forEach(n=>{const o=Math.floor(e/1e3)%2?.005:-.005;n.position.add(new t(0,o,0))}),T.forEach(n=>{const o=Math.floor(e/1e3)%2?.005:-.005;n.position.add(new t(0,o,0))})}function O(){b.update();const e=performance.now(),n=e*5e-4;we(n),me(e),l.render(i,f)}l.setAnimationLoop(O);
