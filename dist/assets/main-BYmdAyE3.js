import{C as se,V as b,W as ae,P as ie,T as re,S as ce,a as le,A as de,b as pe,R as ue,c as me,d as X,e as O,F as V,f as Y,M as Z,g as E,h as T,i as I,j as q,k as fe,B as we,l as R,m as he,n as ge,o as U,p as xe,q as _,E as Me,r as be,s as ye}from"./TextGeometry-BFM4yWnP.js";let l,i,x,L,k,P,v,M=[],N=[];const A=[];let y,u,z,F,G,B=null,H=!1,$=0,Pe=1e3,J=null,W=16770032,Se=6037302,ke=6375504,ve=13476528;const S=[new b(-250,50,10),new b(-150,-100,10),new b(-50,30,10),new b(30,-120,10),new b(200,20,10)],K=new se(S),j=K.computeFrenetFrames(100,!0);Re();function Ce(){new V().load("fonts/optimer_bold.typeface.json",function(e){const o=new Y("Mylène Bénier-Rollet",{font:e,size:20,depth:2,height:0,curveSegments:8});o.center();const n=new Z({color:W});y=new E(o,n),y.position.set(0,100,10),i.add(y),u=o.attributes.position,z=u.array.slice()},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})}function ze(){const t=new T().load("textures/pictures/cv_picture.jpeg"),e=new I(30,30),o=new q({map:t,transparent:!1});F=new E(e,o),F.position.set(-320,130,10),i.add(F);const n=new I(32,32),s=new Z({color:W});G=new E(n,s),G.position.set(-320,130,9.9),i.add(G)}function C(t,e,o){const n=[];for(let p=0;p<10;p++){const g=p%2==1?10:20,D=p/5*Math.PI;n.push(new O(Math.cos(D)*g,Math.sin(D)*g))}const r=new xe(n),m=new _({color:Se,wireframe:!1}),c=[new _({color:ve,wireframe:!1}),m],d=20,f={depth:d,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},w=new Me(r,f),h=new E(w,c);return h.position.set(t.x,t.y,t.z),h.userData.isHovered=!1,h.name=e,new V().load("fonts/optimer_bold.typeface.json",function(p){const g=new Y(o,{font:p,size:10,depth:2,height:0,curveSegments:8});g.computeBoundingBox();const D=g.boundingBox.max.x-g.boundingBox.min.x,te=d+1;g.translate(-D/2,1.5,te);const ne=new q({color:W}),oe=new E(g,ne);h.add(oe)},function(p){console.log(p.loaded/p.total*100+"% loaded")},function(p){console.log("An error happened")}),h}function Be(){const t=new T().load("textures/sprites/sparkle.png"),e=new be({map:t,color:16777130,transparent:!0,blending:U,depthWrite:!1});for(let o=0;o<2e3;o++){const n=new ye(e.clone());n.scale.set(1,1,1),i.add(n),N.push({sprite:n,offset:Math.random()})}}function Ee(){i.fog=new fe(0,8e-4);const t=new we,e=[],o=new T,n=a=>{a.colorSpace=R},s=o.load("textures/sprites/snowflake2.png",n);s.colorSpace=R;const r=o.load("textures/sprites/snowflake4.png",n);r.colorSpace=R;const m=o.load("textures/sprites/snowflake5.png",n);m.colorSpace=R;for(let a=0;a<2e3;a++){const c=Math.random()*2e3-1e3,d=Math.random()*2e3-1e3,f=Math.random()*2e3-1e3;e.push(c,d,f)}t.setAttribute("position",new he(e,3)),v=[[[.92,.31,.54],s,20],[[1,1,1],r,11],[[.92,.31,.54],m,6]];for(let a=0;a<v.length;a++){const c=v[a][0],d=v[a][1],f=v[a][2];A[a]=new ge({size:f,map:d,blending:U,depthTest:!1,depthWrite:!1,transparent:!0}),A[a].color.setHSL(c[0],c[1],c[2]);const w=new X(t,A[a]),h=6;w.rotation.x=Math.random()*h,w.rotation.y=Math.random()*h,w.rotation.z=Math.random()*h,i.add(w)}}function De(t){B=t,$=performance.now(),H=!0,J=l.position.clone()}function Re(){x=new ae({antialias:!0}),x.setPixelRatio(window.devicePixelRatio),x.setSize(window.innerWidth,window.innerHeight),x.setAnimationLoop(Q),document.body.appendChild(x.domElement),l=new ie(45,window.innerWidth/window.innerHeight,1,1e3),l.position.set(0,0,500),L=new re(l,x.domElement),L.minDistance=200,L.maxDistance=500,i=new ce,i.background=new le(ke),i.add(new de(6710886));const t=new pe(16777215,3,0,0);t.position.copy(l.position),i.add(t),Ce(),ze(),Ee();const e=C(S[0],"experience","Experience");i.add(e),M.push(e);const o=C(S[1],"competences","Compétences");i.add(o),M.push(o);const n=C(S[2],"presentation","Présentation");i.add(n),M.push(n);const s=C(S[3],"interets","Intérets");i.add(s),M.push(s);const r=C(S[4],"cursus","Cursus");i.add(r),M.push(r),Be(),k=new ue,P=new O,window.addEventListener("mousemove",Le),window.addEventListener("click",Fe),window.addEventListener("resize",Ae)}function Le(t){P.x=t.clientX/window.innerWidth*2-1,P.y=-(t.clientY/window.innerHeight)*2+1,k.setFromCamera(P,l),k.intersectObjects(M).forEach(o=>{const n=o.object;n.userData.spinning||(n.userData.spinning=!0,n.userData.startRotation=n.rotation.y,n.userData.targetRotation=n.rotation.y+Math.PI*2)})}function Fe(t){P.x=t.clientX/window.innerWidth*2-1,P.y=-(t.clientY/window.innerHeight)*2+1,k.setFromCamera(P,l);const e=k.intersectObjects(M);e.length>0&&De(e[0].object),k.intersectObjects([F]).length>0&&(window.location.href="index.html")}function Ae(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight)}function Ge(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}function je(t){if(y){let e=ee.getElapsedTime(),o=3,n=e%o/o;if(n<.5){let s=n*2;u.needsUpdate=!0;for(let r=0;r<u.count;r++){const m=z[r*3],a=z[r*3+1],c=z[r*3+2];let d=(m-y.geometry.boundingBox.min.x)/(y.geometry.boundingBox.max.x-y.geometry.boundingBox.min.x),f=s-d,w=0;f>0&&f<.2&&(w=Math.sin(f*Math.PI/.2)*7),u.setXYZ(r,m,a+w,c)}}else{u.needsUpdate=!0;for(let s=0;s<u.count;s++)u.setXYZ(s,u.getX(s),z[s*3+1],u.getZ(s))}}}function He(t){N.forEach(e=>{const o=(t*.05+e.offset)%1,n=K.getPointAt(o),s=Math.floor(o*j.tangents.length),r=j.normals[s],m=j.binormals[s],a=t*2+e.offset*Math.PI*2,c=10,d=r.clone().multiplyScalar(Math.cos(a)*c).add(m.clone().multiplyScalar(Math.sin(a)*c));e.sprite.position.copy(n.clone().add(d)),e.sprite.position.add(new b((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function Te(t){M.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.05,Math.cos(e.rotation.y)>0?e.position.y+=.005:e.position.y-=.005,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))})}function We(t){if(H&&B){const e=Math.min((t-$)/Pe,1),o=Ge(e),n=B.position.clone().add(new b(0,0,-10));l.position.lerpVectors(J,n,o),l.lookAt(B.position),e>=1&&(H=!1,setTimeout(()=>{window.location.href=`./${B.name}.html`},300))}}function Q(){requestAnimationFrame(Q),L.update();const t=performance.now(),e=t*5e-4;je(),He(e),Te(),We(t),Ie()}const ee=new me;function Ie(){const t=ee.getDelta()*.5;for(let e=0;e<i.children.length;e++){const o=i.children[e];if(o instanceof X){const n=(e<2?e+1:-(e+1))*.1;o.rotation.y+=n*t}}x.render(i,l)}
