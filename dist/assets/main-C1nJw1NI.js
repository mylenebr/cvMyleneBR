import{C as se,V as M,W as ae,P as ie,T as re,S as ce,a as le,A as de,b as pe,R as ue,c as we,d as Z,e as $,F as I,f as T,M as j,g,h as H,i as A,j as V,k as fe,B as me,l as R,m as he,n as ge,o as J,p as Me,q as Y,E as xe,r as be,s as ye}from"./TextGeometry-CdrQ54mS.js";let i,s,m,B,x,b,C,h=[],K=[];const _=[],N=new we;let P,q,G,k,D=null,W=!1,Q=0,Se=1e3,U=null,O=16770032,X=6037302,Pe=6375504,ke=13476528;const S=[new M(-250,50,10),new M(-150,-100,10),new M(-50,30,10),new M(30,-120,10),new M(200,20,10)],ee=new se(S),F=ee.computeFrenetFrames(100,!0);let L;Be();function ve(){new I().load("fonts/optimer_bold.typeface.json",function(e){const o=new T("Mylène Bénier-Rollet",{font:e,size:20,depth:2,height:0,curveSegments:8});o.center();const n=new j({color:O});P=new g(o,n),P.position.set(0,100,10),s.add(P),q=o.attributes.position,q.array.slice()},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})}function Ce(){const t=new H().load("textures/pictures/cv_picture.jpeg"),e=new A(30,32),o=new V({map:t,transparent:!1});G=new g(e,o),G.position.set(-320,130,10),s.add(G);const n=new A(32,32),r=new j({color:X});k=new g(n,r),k.position.set(-320,130,9.9),s.add(k)}function z(t,e,o){const n=[];for(let p=0;p<10;p++){const f=p%2==1?10:20,E=p/5*Math.PI;n.push(new $(Math.cos(E)*f,Math.sin(E)*f))}const d=new Me(n),c=new Y({color:X,wireframe:!1}),l=[new Y({color:ke,wireframe:!1}),c],w=20,v={depth:w,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},y=new xe(d,v),u=new g(y,l);return u.position.set(t.x,t.y,t.z),u.userData.isHovered=!1,u.name=e,new I().load("fonts/optimer_bold.typeface.json",function(p){const f=new T(o,{font:p,size:10,depth:2,height:0,curveSegments:8});f.computeBoundingBox();const E=f.boundingBox.max.x-f.boundingBox.min.x,te=w+1;f.translate(-E/2,1.5,te);const ne=new V({color:O}),oe=new g(f,ne);u.add(oe)},function(p){console.log(p.loaded/p.total*100+"% loaded")},function(p){console.log("An error happened")}),u}function ze(){const t=new H().load("textures/sprites/sparkle.png"),e=new be({map:t,color:16777130,transparent:!0,blending:J,depthWrite:!1});for(let o=0;o<2e3;o++){const n=new ye(e.clone());n.scale.set(1,1,1),s.add(n),K.push({sprite:n,offset:Math.random()})}}function De(){const t=new H().load("cv_icon.jpg"),e=new A(15,32),o=new V({map:t,transparent:!1});L=new g(e,o),L.position.set(-95,-165,10),s.add(L);const n=new A(17,32),r=new j({color:X});k=new g(n,r),k.position.set(-95,-165,9.9),s.add(k),new I().load("fonts/optimer_regular.typeface.json",function(c){const a=new T("mylene.benier.rollet@gmail.com",{font:c,size:8,depth:1,height:0,curveSegments:8});a.center();const l=new j({color:O});P=new g(a,l),P.position.set(0,-170,10),s.add(P)},function(c){console.log(c.loaded/c.total*100+"% loaded")},function(c){console.log("An error happened")})}function Ee(){s.fog=new fe(0,8e-4);const t=new me,e=[],o=new H,n=a=>{a.colorSpace=R},r=o.load("textures/sprites/snowflake2.png",n);r.colorSpace=R;const d=o.load("textures/sprites/snowflake4.png",n);d.colorSpace=R;const c=o.load("textures/sprites/snowflake5.png",n);c.colorSpace=R;for(let a=0;a<2e3;a++){const l=Math.random()*2e3-1e3,w=Math.random()*2e3-1e3,v=Math.random()*2e3-1e3;e.push(l,w,v)}t.setAttribute("position",new he(e,3)),C=[[[.92,.31,.54],r,20],[[1,1,1],d,11],[[.92,.31,.54],c,6]];for(let a=0;a<C.length;a++){const l=C[a][0],w=C[a][1],v=C[a][2];_[a]=new ge({size:v,map:w,blending:J,depthTest:!1,depthWrite:!1,transparent:!0}),_[a].color.setHSL(l[0],l[1],l[2]);const y=new Z(t,_[a]),u=6;y.rotation.x=Math.random()*u,y.rotation.y=Math.random()*u,y.rotation.z=Math.random()*u,s.add(y)}}function Re(t){D=t,Q=performance.now(),W=!0,U=i.position.clone()}function Be(){m=new ae({antialias:!0}),m.setPixelRatio(window.devicePixelRatio),m.setSize(window.innerWidth,window.innerHeight),m.setAnimationLoop(Ie),document.body.appendChild(m.domElement),i=new ie(45,window.innerWidth/window.innerHeight,1,1e3),i.position.set(0,0,500),B=new re(i,m.domElement),B.minDistance=200,B.maxDistance=500,s=new ce,s.background=new le(Pe),s.add(new de(6710886));const t=new pe(16777215,3,0,0);t.position.copy(i.position),s.add(t),ve(),Ce(),Ee();const e=z(S[0],"experience","Experience");s.add(e),h.push(e);const o=z(S[1],"competences","Compétences");s.add(o),h.push(o);const n=z(S[2],"presentation","Présentation");s.add(n),h.push(n);const r=z(S[3],"interets","Intérets");s.add(r),h.push(r);const d=z(S[4],"cursus","Cursus");s.add(d),h.push(d),ze(),De(),x=new ue,b=new $,window.addEventListener("mousemove",Ge),window.addEventListener("click",Le),window.addEventListener("resize",je),window.addEventListener("pageshow",Ae)}function Ge(t){b.x=t.clientX/window.innerWidth*2-1,b.y=-(t.clientY/window.innerHeight)*2+1,x.setFromCamera(b,i),x.intersectObjects(h).forEach(o=>{const n=o.object;n.userData.spinning||(n.userData.spinning=!0,n.userData.startRotation=n.rotation.y,n.userData.targetRotation=n.rotation.y+Math.PI*2)})}function Le(t){b.x=t.clientX/window.innerWidth*2-1,b.y=-(t.clientY/window.innerHeight)*2+1,x.setFromCamera(b,i);const e=x.intersectObjects(h);e.length>0&&Re(e[0].object),x.intersectObjects([G]).length>0&&(window.location.href="index.html"),x.intersectObjects([L]).length>0&&window.open("CV_Mylene_BenierRollet.pdf","_blank")}function je(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight)}function Ae(t){t.persisted&&(i.position.set(0,0,500),i.lookAt(0,0,0))}function He(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}function _e(t){K.forEach(e=>{const o=(t*.05+e.offset)%1,n=ee.getPointAt(o),r=Math.floor(o*F.tangents.length),d=F.normals[r],c=F.binormals[r],a=t*2+e.offset*Math.PI*2,l=10,w=d.clone().multiplyScalar(Math.cos(a)*l).add(c.clone().multiplyScalar(Math.sin(a)*l));e.sprite.position.copy(n.clone().add(w)),e.sprite.position.add(new M((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function Fe(t){h.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.2,Math.cos(e.rotation.y)>0?e.position.y+=.5:e.position.y-=.5,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))})}function We(t){if(W&&D){const e=Math.min((t-Q)/Se,1),o=He(e),n=D.position.clone().add(new M(0,0,-10));i.position.lerpVectors(U,n,o),i.lookAt(D.position),e>=1&&(W=!1,setTimeout(()=>{window.location.href=`./${D.name}.html`},300))}}function Ie(){B.update();const t=N.getDelta();_e(t),Fe(),We(performance.now()),Te()}function Te(){const t=N.getDelta()*.5;for(let e=0;e<s.children.length;e++){const o=s.children[e];if(o instanceof Z){const n=(e<2?e+1:-(e+1))*.4;o.rotation.y+=n*t}}m.render(s,i)}
