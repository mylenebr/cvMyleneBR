import{C as nt,M as C,V as f,a as g,Q as at,b as q,L as ht,F as rt,S as ct,E as $,W as pt,P as lt,c as dt,A as mt,d as ut,e as J,R as _t,f as yt,B as ft,T as gt,g as A,h as wt,i as bt,j as Et,k as Pt,l as K,m as V,n as vt}from"./three.module-cpGghobA.js";const F={type:"change"},W={type:"start"},X={type:"end"},G=1e-6,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},L=new g,E=new g,St=new f,N=new f,H=new f,x=new at,Q=new f,R=new f,Y=new f,Z=new f;class Mt extends nt{constructor(t,o=null){super(t,o),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:C.ROTATE,MIDDLE:C.DOLLY,RIGHT:C.PAN},this.target=new f,this.state=s.NONE,this.keyState=s.NONE,this._lastPosition=new f,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new f,this._movePrev=new g,this._moveCurr=new g,this._lastAxis=new f,this._zoomStart=new g,this._zoomEnd=new g,this._panStart=new g,this._panEnd=new g,this._pointers=[],this._pointerPositions={},this._onPointerMove=Ot.bind(this),this._onPointerDown=xt.bind(this),this._onPointerUp=Ct.bind(this),this._onPointerCancel=Tt.bind(this),this._onContextMenu=Nt.bind(this),this._onMouseWheel=Lt.bind(this),this._onKeyDown=kt.bind(this),this._onKeyUp=jt.bind(this),this._onTouchStart=Rt.bind(this),this._onTouchMove=Zt.bind(this),this._onTouchEnd=Ut.bind(this),this._onMouseDown=Dt.bind(this),this._onMouseMove=zt.bind(this),this._onMouseUp=At.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,o!==null&&(this.connect(o),this.handleResize()),this.update()}connect(t){super.connect(t),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const t=this.domElement.getBoundingClientRect(),o=this.domElement.ownerDocument.documentElement;this.screen.left=t.left+window.pageXOffset-o.clientLeft,this.screen.top=t.top+window.pageYOffset-o.clientTop,this.screen.width=t.width,this.screen.height=t.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>G&&(this.dispatchEvent(F),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>G||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(F),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=s.NONE,this.keyState=s.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(F),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(E.copy(this._panEnd).sub(this._panStart),E.lengthSq()){if(this.object.isOrthographicCamera){const t=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,o=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;E.x*=t,E.y*=o}E.multiplyScalar(this._eye.length()*this.panSpeed),N.copy(this._eye).cross(this.object.up).setLength(E.x),N.add(St.copy(this.object.up).setLength(E.y)),this.object.position.add(N),this.target.add(N),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(E.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){Z.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let t=Z.length();t?(this._eye.copy(this.object.position).sub(this.target),Q.copy(this._eye).normalize(),R.copy(this.object.up).normalize(),Y.crossVectors(R,Q).normalize(),R.setLength(this._moveCurr.y-this._movePrev.y),Y.setLength(this._moveCurr.x-this._movePrev.x),Z.copy(R.add(Y)),H.crossVectors(Z,this._eye).normalize(),t*=this.rotateSpeed,x.setFromAxisAngle(H,t),this._eye.applyQuaternion(x),this.object.up.applyQuaternion(x),this._lastAxis.copy(H),this._lastAngle=t):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),x.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(x),this.object.up.applyQuaternion(x)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let t;this.state===s.TOUCH_ZOOM_PAN?(t=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=q.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,t!==1&&t>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=q.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(t,o){return L.set((t-this.screen.left)/this.screen.width,(o-this.screen.top)/this.screen.height),L}_getMouseOnCircle(t,o){return L.set((t-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-o))/this.screen.width),L}_addPointer(t){this._pointers.push(t)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let o=0;o<this._pointers.length;o++)if(this._pointers[o].pointerId==t.pointerId){this._pointers.splice(o,1);return}}_trackPointer(t){let o=this._pointerPositions[t.pointerId];o===void 0&&(o=new g,this._pointerPositions[t.pointerId]=o),o.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const o=t.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[o.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function xt(e){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(e),e.pointerType==="touch"?this._onTouchStart(e):this._onMouseDown(e))}function Ot(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchMove(e):this._onMouseMove(e))}function Ct(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchEnd(e):this._onMouseUp(),this._removePointer(e),this._pointers.length===0&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function Tt(e){this._removePointer(e)}function jt(){this.enabled!==!1&&(this.keyState=s.NONE,window.addEventListener("keydown",this._onKeyDown))}function kt(e){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===s.NONE&&(e.code===this.keys[s.ROTATE]&&!this.noRotate?this.keyState=s.ROTATE:e.code===this.keys[s.ZOOM]&&!this.noZoom?this.keyState=s.ZOOM:e.code===this.keys[s.PAN]&&!this.noPan&&(this.keyState=s.PAN)))}function Dt(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case C.DOLLY:this.state=s.ZOOM;break;case C.ROTATE:this.state=s.ROTATE;break;case C.PAN:this.state=s.PAN;break;default:this.state=s.NONE}const o=this.keyState!==s.NONE?this.keyState:this.state;o===s.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr)):o===s.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._zoomEnd.copy(this._zoomStart)):o===s.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(W)}function zt(e){const t=this.keyState!==s.NONE?this.keyState:this.state;t===s.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY))):t===s.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY)):t===s.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY))}function At(){this.state=s.NONE,this.dispatchEvent(X)}function Lt(e){if(this.enabled!==!1&&this.noZoom!==!0){switch(e.preventDefault(),e.deltaMode){case 2:this._zoomStart.y-=e.deltaY*.025;break;case 1:this._zoomStart.y-=e.deltaY*.01;break;default:this._zoomStart.y-=e.deltaY*25e-5;break}this.dispatchEvent(W),this.dispatchEvent(X)}}function Nt(e){this.enabled!==!1&&e.preventDefault()}function Rt(e){switch(this._trackPointer(e),this._pointers.length){case 1:this.state=s.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=s.TOUCH_ZOOM_PAN;const t=this._pointers[0].pageX-this._pointers[1].pageX,o=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(t*t+o*o);const i=(this._pointers[0].pageX+this._pointers[1].pageX)/2,h=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(i,h)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(W)}function Zt(e){switch(this._trackPointer(e),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY));break;default:const t=this._getSecondPointerPosition(e),o=e.pageX-t.x,i=e.pageY-t.y;this._touchZoomDistanceEnd=Math.sqrt(o*o+i*i);const h=(e.pageX+t.x)/2,r=(e.pageY+t.y)/2;this._panEnd.copy(this._getMouseOnScreen(h,r));break}}function Ut(e){switch(this._pointers.length){case 0:this.state=s.NONE;break;case 1:this.state=s.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=s.TOUCH_ZOOM_PAN;for(let t=0;t<this._pointers.length;t++)if(this._pointers[t].pointerId!==e.pointerId){const o=this._pointerPositions[this._pointers[t].pointerId];this._moveCurr.copy(this._getMouseOnCircle(o.x,o.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(X)}class It extends ht{constructor(t){super(t)}load(t,o,i,h){const r=this,c=new rt(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(a){const p=r.parse(JSON.parse(a));o&&o(p)},i,h)}parse(t){return new Ft(t)}}class Ft{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,o=100){const i=[],h=Ht(t,o,this.data);for(let r=0,c=h.length;r<c;r++)i.push(...h[r].toShapes());return i}}function Ht(e,t,o){const i=Array.from(e),h=t/o.resolution,r=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*h,c=[];let a=0,p=0;for(let m=0;m<i.length;m++){const u=i[m];if(u===`
`)a=0,p-=r;else{const d=Yt(u,h,a,p,o);a+=d.offsetX,c.push(d.path)}}return c}function Yt(e,t,o,i,h){const r=h.glyphs[e]||h.glyphs["?"];if(!r){console.error('THREE.Font: character "'+e+'" does not exists in font family '+h.familyName+".");return}const c=new ct;let a,p,m,u,d,M,z,b;if(r.o){const l=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let n=0,w=l.length;n<w;)switch(l[n++]){case"m":a=l[n++]*t+o,p=l[n++]*t+i,c.moveTo(a,p);break;case"l":a=l[n++]*t+o,p=l[n++]*t+i,c.lineTo(a,p);break;case"q":m=l[n++]*t+o,u=l[n++]*t+i,d=l[n++]*t+o,M=l[n++]*t+i,c.quadraticCurveTo(d,M,m,u);break;case"b":m=l[n++]*t+o,u=l[n++]*t+i,d=l[n++]*t+o,M=l[n++]*t+i,z=l[n++]*t+o,b=l[n++]*t+i,c.bezierCurveTo(d,M,z,b,m,u);break}}return{offsetX:r.ha*t,path:c}}class Bt extends ${constructor(t,o={}){const i=o.font;if(i===void 0)super();else{const h=i.generateShapes(t,o.size);o.depth===void 0&&(o.depth=50),o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),super(h,o)}this.type="TextGeometry"}}let y,_,P,U,D,S,O,v=[];const I=[];let k=null,B=!1,tt=null,Wt=1e3;qt();function j(e,t,o,i,h){const r=[];for(let n=0;n<10;n++){const w=n%2==1?10:20,T=n/5*Math.PI;r.push(new g(Math.cos(T)*w,Math.sin(T)*w))}const a=new Pt(r),p=new K({color:6037302,wireframe:!1}),u=[new K({color:16761566,wireframe:!1}),p],d=20,M={depth:d,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},z=new $(a,M),b=new V(z,u);return b.position.set(e,t,o),b.userData.isHovered=!1,b.name=i,new It().load("fonts/optimer_bold.typeface.json",function(n){const w=new Bt(h,{font:n,size:10,depth:5,height:0,curveSegments:8});w.computeBoundingBox();const T=w.boundingBox.max.x-w.boundingBox.min.x,ot=d+1;w.translate(-T/2,1.5,ot);const it=new vt({color:16777215,metalness:.5,roughness:.5}),st=new V(w,it);b.add(st)},function(n){console.log(n.loaded/n.total*100+"% loaded")},function(n){console.log("An error happened")}),b}function Xt(){_.fog=new yt(0,8e-4);const e=new ft,t=[],o=new gt,i=a=>{a.colorSpace=A},h=o.load("textures/sprites/snowflake4.png",i);h.colorSpace=A;const r=o.load("textures/sprites/snowflake2.png",i);r.colorSpace=A;const c=o.load("textures/sprites/snowflake5.png",i);c.colorSpace=A;for(let a=0;a<1e4;a++){const p=Math.random()*2e3-1e3,m=Math.random()*2e3-1e3,u=Math.random()*2e3-1e3;t.push(p,m,u)}e.setAttribute("position",new wt(t,3)),O=[[[.8,.2,.87],r,10],[[.92,.31,.54],c,7],[[.92,.31,.54],h,5]];for(let a=0;a<O.length;a++){const p=O[a][0],m=O[a][1],u=O[a][2];I[a]=new bt({size:u,map:m,blending:Et,depthTest:!1,depthWrite:!1,transparent:!0}),I[a].color.setHSL(p[0],p[1],p[2]);const d=new J(e,I[a]);d.rotation.x=Math.random()*6,d.rotation.y=Math.random()*6,d.rotation.z=Math.random()*6,_.add(d)}}function qt(){P=new pt({antialias:!0}),P.setPixelRatio(window.devicePixelRatio),P.setSize(window.innerWidth,window.innerHeight),P.setAnimationLoop(et),document.body.appendChild(P.domElement),y=new lt(45,window.innerWidth/window.innerHeight,1,1e3),y.position.set(0,0,500),U=new Mt(y,P.domElement),U.minDistance=200,U.maxDistance=500,_=new dt,_.add(new mt(6710886));const e=new ut(16777215,3,0,0);e.position.copy(y.position),_.add(e),Xt();const t=j(-250,50,10,"star1","Experience");_.add(t);const o=j(-150,-100,10,"star2","Compétences");_.add(o);const i=j(-50,30,10,"star3","Cursus");_.add(i);const h=j(30,-120,10,"star4","Intérets");_.add(h);const r=j(200,20,10,"star5","???");_.add(r),v.push(t),v.push(o),v.push(i),v.push(h),v.push(r),D=new _t,S=new g,window.addEventListener("mousemove",Kt),window.addEventListener("click",Vt),window.addEventListener("resize",Gt)}function Kt(e){S.x=e.clientX/window.innerWidth*2-1,S.y=-(e.clientY/window.innerHeight)*2+1,D.setFromCamera(S,y),D.intersectObjects(v).forEach(o=>{const i=o.object;i.userData.spinning||(i.userData.spinning=!0,i.userData.startRotation=i.rotation.y,i.userData.targetRotation=i.rotation.y+Math.PI*2)})}function Vt(e){S.x=e.clientX/window.innerWidth*2-1,S.y=-(e.clientY/window.innerHeight)*2+1,D.setFromCamera(S,y);const t=D.intersectObjects(v);t.length>0&&(k=t[0].object,B=!0,tt=performance.now(),zoomStartPos=y.position.clone())}function Gt(){y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),P.setSize(window.innerWidth,window.innerHeight)}function Qt(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function et(){if(requestAnimationFrame(et),U.update(),v.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.001,Math.cos(e.rotation.y)>0?e.position.y+=.005:e.position.y-=.005,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))}),B&&k){const e=performance.now(),t=Math.min((e-tt)/Wt,1),o=Qt(t),i=k.position.clone().add(new f(0,0,3));y.position.lerpVectors(y.position,i,o),y.lookAt(k.position),t>=1&&(B=!1,setTimeout(()=>{window.location.href=`./${k.name}.html`},300))}$t()}function $t(){const e=Date.now()*1e-4;for(let t=0;t<_.children.length;t++){const o=_.children[t];o instanceof J&&(o.rotation.y=e*(t<4?t+1:-(t+1)))}for(let t=0;t<I.length;t++)O[t][0];P.render(_,y)}
