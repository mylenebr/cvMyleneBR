import{F as D,V as t,C as N,W as H,P as Q,d as U,S as V,e as _,A as Y,f as q,R as X,i as $,g as J,j as K,c as L,b as y,T as A,a as C,M as j,r as Z,o as ee,s as te}from"./TextGeometry-BWGeakaV.js";const ne=new D;let I=null;ne.load("fonts/optimer_bold.typeface.json",e=>{I=e,W(),z()});let f,i,l,b,w,k;const oe=new J;let B=16770032,F=6037302,se=6375504,P,m,G=[];const s=-30,ae=[new t(-350,0+s,10),new t(-330,0+s,10),new t(-180,-30+s,10),new t(0,0+s,10),new t(180,-30+s,10),new t(300,0+s,10),new t(308,-8+s,10),new t(316,0+s,10),new t(308,10+s,10),new t(300,0+s,10),new t(308,0+s,10)],v=new N(ae),E=v.computeFrenetFrames(100,!0),ie=["2018","2020","2023","2024"],M=-110+s,ce=[new t(-350,M,10),new t(-120,M,10),new t(90,M,10),new t(220,M,10)],re=["bac.jpg","mpsi.jpg","ensisa.png","uqac.jpeg"],u=[new t(-330,30+s,10),new t(-180,-60+s,10),new t(0,30+s,10),new t(180,-60+s,10)];let g=[],T=[],x;function R(e,o,a,n,c,r,d){if(!e)return;const p=new K(o,{font:e,size:a,depth:n,curveSegments:c});p.center();const S=new L({color:r}),h=new y(p,S);h.position.set(d.x,d.y,d.z),i.add(h)}we();function W(){R(I,"Cursus",20,2,8,B,new t(0,100,10))}function le(){const e=new A().load("textures/pictures/cv_picture_house.jpg"),o=new C(30,32),a=new j({map:e,transparent:!1});P=new y(o,a),P.position.set(-320,130,10),i.add(P);const n=new C(32,32),c=new L({color:F});m=new y(n,c),m.position.set(-320,130,9.9),i.add(m)}function de(){const e=new A().load("textures/sprites/sparkle.png"),o=new Z({map:e,color:16777130,transparent:!0,blending:ee,depthWrite:!1});for(let a=0;a<2e3;a++){const n=new te(o.clone());n.scale.set(1,1,1),i.add(n),G.push({sprite:n,offset:Math.random()})}}function z(){for(let e=0;e<4;e++)R(I,ie[e],10,1,8,B,ce[e])}function pe(){for(let e=0;e<4;e++){const o=new A().load(`textures/pictures/school/${re[e]}`),a=new C(20,32),n=new j({map:o,transparent:!1});x=new y(a,n),x.position.set(u[e].x,u[e].y,u[e].z),i.add(x),g.push(x);const c=new C(22,32),r=new L({color:F});m=new y(c,r),m.position.set(u[e].x,u[e].y,u[e].z-.1),i.add(m),T.push(m)}}function we(){l=new H({antialias:!0}),l.setPixelRatio(window.devicePixelRatio),l.setSize(window.innerWidth,window.innerHeight),l.setAnimationLoop(O),document.body.appendChild(l.domElement),f=new Q(45,window.innerWidth/window.innerHeight,1,1e3),f.position.set(0,0,500),b=new U(f,l.domElement),b.minDistance=200,b.maxDistance=500,i=new V,i.background=new _(se),i.add(new Y(6710886));const e=new q(16777215,3,0,0);e.position.copy(f.position),i.add(e),W(),le(),de(),z(),pe(),w=new X,k=new $,window.addEventListener("click",me)}function me(e){k.x=e.clientX/window.innerWidth*2-1,k.y=-(e.clientY/window.innerHeight)*2+1,w.setFromCamera(k,f),w.intersectObjects([P]).length>0&&(window.location.href="index.html");const a=w.intersectObjects([g[0]]),n=document.getElementById("popupBac");a.length>0?n.style.display="block":n.style.display="none";const c=w.intersectObjects([g[1]]),r=document.getElementById("popupMPSI");c.length>0?r.style.display="block":r.style.display="none";const d=w.intersectObjects([g[2]]),p=document.getElementById("popupENSISA");d.length>0?p.style.display="block":p.style.display="none";const S=w.intersectObjects([g[3]]),h=document.getElementById("popupUQAC");S.length>0?h.style.display="block":h.style.display="none"}function ue(e){G.forEach(o=>{const a=(e*.05+o.offset)%1,n=v.getPointAt(a),c=Math.floor(a*E.tangents.length),r=E.normals[c],d=E.binormals[c],p=r.clone().add(d.clone());o.sprite.position.copy(n.clone().add(p)),o.sprite.position.add(new t((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function fe(e){g.forEach(o=>{const n=Math.floor(e/1e3)%2?.005:-.005;o.position.add(new t(0,n,0))}),T.forEach(o=>{const n=Math.floor(e/1e3)%2?.005:-.005;o.position.add(new t(0,n,0))})}function O(){b.update();const e=oe.getDelta();ue(e*5e-4),fe(e),l.render(i,f)}l.setAnimationLoop(O);
