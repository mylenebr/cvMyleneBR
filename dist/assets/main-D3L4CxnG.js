import{C as ae,V as y,W as ie,P as re,T as ce,S as le,a as de,A as pe,b as ue,R as fe,c as me,d as q,e as U,F as V,f as O,M as X,g as k,h as G,i as W,j as Y,k as we,B as he,l as D,m as ge,n as xe,o as N,p as Me,q as Z,E as be,r as ye,s as Se}from"./TextGeometry-CdrQ54mS.js";let c,a,M,L,S,P,C,b=[],$=[];const H=[];let m,f,B,j,_,E=null,I=!1,J=0,Pe=1e3,K=null,F=16770032,ke=6037302,ve=6375504,Ce=13476528;const v=[new y(-250,50,10),new y(-150,-100,10),new y(-50,30,10),new y(30,-120,10),new y(200,20,10)],Q=new ae(v),T=Q.computeFrenetFrames(100,!0);let A;je();function ze(){new V().load("fonts/optimer_bold.typeface.json",function(e){const o=new O("Mylène Bénier-Rollet",{font:e,size:20,depth:2,height:0,curveSegments:8});o.center();const n=new X({color:F});m=new k(o,n),m.position.set(0,100,10),a.add(m),f=o.attributes.position,B=f.array.slice()},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})}function Be(){const t=new G().load("textures/pictures/cv_picture.jpeg"),e=new W(30,32),o=new Y({map:t,transparent:!1});j=new k(e,o),j.position.set(-320,130,10),a.add(j);const n=new W(32,32),s=new X({color:F});_=new k(n,s),_.position.set(-320,130,9.9),a.add(_)}function z(t,e,o){const n=[];for(let u=0;u<10;u++){const x=u%2==1?10:20,R=u/5*Math.PI;n.push(new U(Math.cos(R)*x,Math.sin(R)*x))}const i=new Me(n),d=new Z({color:ke,wireframe:!1}),l=[new Z({color:Ce,wireframe:!1}),d],p=20,w={depth:p,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},h=new be(i,w),g=new k(h,l);return g.position.set(t.x,t.y,t.z),g.userData.isHovered=!1,g.name=e,new V().load("fonts/optimer_bold.typeface.json",function(u){const x=new O(o,{font:u,size:10,depth:2,height:0,curveSegments:8});x.computeBoundingBox();const R=x.boundingBox.max.x-x.boundingBox.min.x,ne=p+1;x.translate(-R/2,1.5,ne);const oe=new Y({color:F}),se=new k(x,oe);g.add(se)},function(u){console.log(u.loaded/u.total*100+"% loaded")},function(u){console.log("An error happened")}),g}function Ee(){const t=new G().load("textures/sprites/sparkle.png"),e=new ye({map:t,color:16777130,transparent:!0,blending:N,depthWrite:!1});for(let o=0;o<2e3;o++){const n=new Se(e.clone());n.scale.set(1,1,1),a.add(n),$.push({sprite:n,offset:Math.random()})}}function Re(){const t=new G().load("cv_icon.jpg"),e=new W(15,32),o=new Y({map:t,transparent:!1});A=new k(e,o),A.position.set(-95,-165,10),a.add(A),new V().load("fonts/optimer_regular.typeface.json",function(s){const i=new O("mylene.benier.rollet@gmail.com",{font:s,size:8,depth:1,height:0,curveSegments:8});i.center();const d=new X({color:F});m=new k(i,d),m.position.set(0,-170,10),a.add(m)},function(s){console.log(s.loaded/s.total*100+"% loaded")},function(s){console.log("An error happened")})}function De(){a.fog=new we(0,8e-4);const t=new he,e=[],o=new G,n=r=>{r.colorSpace=D},s=o.load("textures/sprites/snowflake2.png",n);s.colorSpace=D;const i=o.load("textures/sprites/snowflake4.png",n);i.colorSpace=D;const d=o.load("textures/sprites/snowflake5.png",n);d.colorSpace=D;for(let r=0;r<2e3;r++){const l=Math.random()*2e3-1e3,p=Math.random()*2e3-1e3,w=Math.random()*2e3-1e3;e.push(l,p,w)}t.setAttribute("position",new ge(e,3)),C=[[[.92,.31,.54],s,20],[[1,1,1],i,11],[[.92,.31,.54],d,6]];for(let r=0;r<C.length;r++){const l=C[r][0],p=C[r][1],w=C[r][2];H[r]=new xe({size:w,map:p,blending:N,depthTest:!1,depthWrite:!1,transparent:!0}),H[r].color.setHSL(l[0],l[1],l[2]);const h=new q(t,H[r]),g=6;h.rotation.x=Math.random()*g,h.rotation.y=Math.random()*g,h.rotation.z=Math.random()*g,a.add(h)}}function Le(t){E=t,J=performance.now(),I=!0,K=c.position.clone()}function je(){M=new ie({antialias:!0}),M.setPixelRatio(window.devicePixelRatio),M.setSize(window.innerWidth,window.innerHeight),M.setAnimationLoop(ee),document.body.appendChild(M.domElement),c=new re(45,window.innerWidth/window.innerHeight,1,1e3),c.position.set(0,0,500),L=new ce(c,M.domElement),L.minDistance=200,L.maxDistance=500,a=new le,a.background=new de(ve),a.add(new pe(6710886));const t=new ue(16777215,3,0,0);t.position.copy(c.position),a.add(t),ze(),Be(),De();const e=z(v[0],"experience","Experience");a.add(e),b.push(e);const o=z(v[1],"competences","Compétences");a.add(o),b.push(o);const n=z(v[2],"presentation","Présentation");a.add(n),b.push(n);const s=z(v[3],"interets","Intérets");a.add(s),b.push(s);const i=z(v[4],"cursus","Cursus");a.add(i),b.push(i),Ee(),Re(),S=new fe,P=new U,window.addEventListener("mousemove",Ae),window.addEventListener("click",Ge),window.addEventListener("resize",Fe),window.addEventListener("pageshow",He)}function Ae(t){P.x=t.clientX/window.innerWidth*2-1,P.y=-(t.clientY/window.innerHeight)*2+1,S.setFromCamera(P,c),S.intersectObjects(b).forEach(o=>{const n=o.object;n.userData.spinning||(n.userData.spinning=!0,n.userData.startRotation=n.rotation.y,n.userData.targetRotation=n.rotation.y+Math.PI*2)})}function Ge(t){P.x=t.clientX/window.innerWidth*2-1,P.y=-(t.clientY/window.innerHeight)*2+1,S.setFromCamera(P,c);const e=S.intersectObjects(b);e.length>0&&Le(e[0].object),S.intersectObjects([j]).length>0&&(window.location.href="index.html"),S.intersectObjects([A]).length>0&&window.open("CV_Mylene_BenierRollet.pdf","_blank")}function Fe(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),M.setSize(window.innerWidth,window.innerHeight)}function He(t){t.persisted&&(c.position.set(0,0,500),c.lookAt(0,0,0))}function _e(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}function Te(t){if(m){let e=te.getElapsedTime(),o=3,n=e%o/o;if(n<.5){let s=n*2;f.needsUpdate=!0;for(let i=0;i<f.count;i++){const d=B[i*3],r=B[i*3+1],l=B[i*3+2];let p=(d-m.geometry.boundingBox.min.x)/(m.geometry.boundingBox.max.x-m.geometry.boundingBox.min.x),w=s-p,h=0;w>0&&w<.2&&(h=Math.sin(w*Math.PI/.2)*7),f.setXYZ(i,d,r+h,l)}}else{f.needsUpdate=!0;for(let s=0;s<f.count;s++)f.setXYZ(s,f.getX(s),B[s*3+1],f.getZ(s))}}}function We(t){$.forEach(e=>{const o=(t*.05+e.offset)%1,n=Q.getPointAt(o),s=Math.floor(o*T.tangents.length),i=T.normals[s],d=T.binormals[s],r=t*2+e.offset*Math.PI*2,l=10,p=i.clone().multiplyScalar(Math.cos(r)*l).add(d.clone().multiplyScalar(Math.sin(r)*l));e.sprite.position.copy(n.clone().add(p)),e.sprite.position.add(new y((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function Ie(t){b.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.05,Math.cos(e.rotation.y)>0?e.position.y+=.005:e.position.y-=.005,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))})}function Ve(t){if(I&&E){const e=Math.min((t-J)/Pe,1),o=_e(e),n=E.position.clone().add(new y(0,0,-10));c.position.lerpVectors(K,n,o),c.lookAt(E.position),e>=1&&(I=!1,setTimeout(()=>{window.location.href=`./${E.name}.html`},300))}}function ee(){requestAnimationFrame(ee),L.update();const t=performance.now(),e=t*5e-4;Te(),We(e),Ie(),Ve(t),Oe()}const te=new me;function Oe(){const t=te.getDelta()*.5;for(let e=0;e<a.children.length;e++){const o=a.children[e];if(o instanceof q){const n=(e<2?e+1:-(e+1))*.1;o.rotation.y+=n*t}}M.render(a,c)}
