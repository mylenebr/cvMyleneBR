import{C as oe,V as g,W as se,P as ae,T as ie,S as re,a as ce,A as le,b as de,R as pe,c as ue,d as q,e as Z,F as I,f as T,M as V,g as b,h as j,i as F,j as O,k as we,B as fe,l as E,m as me,n as he,o as $,p as ge,q as X,E as xe,r as Me,s as be}from"./TextGeometry-CdrQ54mS.js";let r,s,m,R,x,M,v,h=[],J=[];const A=[],K=new ue;let P,Y,B,H,z=null,W=!1,N=0,ye=1e3,Q=null,G=16770032,Se=6037302,Pe=6375504,ke=13476528;const S=[new g(-250,50,10),new g(-150,-100,10),new g(-50,30,10),new g(30,-120,10),new g(200,20,10)],U=new oe(S),_=U.computeFrenetFrames(100,!0);let L;Be();function ve(){new I().load("fonts/optimer_bold.typeface.json",function(e){const o=new T("Mylène Bénier-Rollet",{font:e,size:20,depth:2,height:0,curveSegments:8});o.center();const n=new V({color:G});P=new b(o,n),P.position.set(0,100,10),s.add(P),Y=o.attributes.position,Y.array.slice()},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})}function Ce(){const t=new j().load("textures/pictures/cv_picture.jpeg"),e=new F(30,32),o=new O({map:t,transparent:!1});B=new b(e,o),B.position.set(-320,130,10),s.add(B);const n=new F(32,32),a=new V({color:G});H=new b(n,a),H.position.set(-320,130,9.9),s.add(H)}function C(t,e,o){const n=[];for(let d=0;d<10;d++){const f=d%2==1?10:20,D=d/5*Math.PI;n.push(new Z(Math.cos(D)*f,Math.sin(D)*f))}const c=new ge(n),u=new X({color:Se,wireframe:!1}),l=[new X({color:ke,wireframe:!1}),u],w=20,k={depth:w,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},y=new xe(c,k),p=new b(y,l);return p.position.set(t.x,t.y,t.z),p.userData.isHovered=!1,p.name=e,new I().load("fonts/optimer_bold.typeface.json",function(d){const f=new T(o,{font:d,size:10,depth:2,height:0,curveSegments:8});f.computeBoundingBox();const D=f.boundingBox.max.x-f.boundingBox.min.x,ee=w+1;f.translate(-D/2,1.5,ee);const te=new O({color:G}),ne=new b(f,te);p.add(ne)},function(d){console.log(d.loaded/d.total*100+"% loaded")},function(d){console.log("An error happened")}),p}function ze(){const t=new j().load("textures/sprites/sparkle.png"),e=new Me({map:t,color:16777130,transparent:!0,blending:$,depthWrite:!1});for(let o=0;o<2e3;o++){const n=new be(e.clone());n.scale.set(1,1,1),s.add(n),J.push({sprite:n,offset:Math.random()})}}function De(){const t=new j().load("cv_icon.jpg"),e=new F(15,32),o=new O({map:t,transparent:!1});L=new b(e,o),L.position.set(-95,-165,10),s.add(L),new I().load("fonts/optimer_regular.typeface.json",function(a){const c=new T("mylene.benier.rollet@gmail.com",{font:a,size:8,depth:1,height:0,curveSegments:8});c.center();const u=new V({color:G});P=new b(c,u),P.position.set(0,-170,10),s.add(P)},function(a){console.log(a.loaded/a.total*100+"% loaded")},function(a){console.log("An error happened")})}function Ee(){s.fog=new we(0,8e-4);const t=new fe,e=[],o=new j,n=i=>{i.colorSpace=E},a=o.load("textures/sprites/snowflake2.png",n);a.colorSpace=E;const c=o.load("textures/sprites/snowflake4.png",n);c.colorSpace=E;const u=o.load("textures/sprites/snowflake5.png",n);u.colorSpace=E;for(let i=0;i<2e3;i++){const l=Math.random()*2e3-1e3,w=Math.random()*2e3-1e3,k=Math.random()*2e3-1e3;e.push(l,w,k)}t.setAttribute("position",new me(e,3)),v=[[[.92,.31,.54],a,20],[[1,1,1],c,11],[[.92,.31,.54],u,6]];for(let i=0;i<v.length;i++){const l=v[i][0],w=v[i][1],k=v[i][2];A[i]=new he({size:k,map:w,blending:$,depthTest:!1,depthWrite:!1,transparent:!0}),A[i].color.setHSL(l[0],l[1],l[2]);const y=new q(t,A[i]),p=6;y.rotation.x=Math.random()*p,y.rotation.y=Math.random()*p,y.rotation.z=Math.random()*p,s.add(y)}}function Re(t){z=t,N=performance.now(),W=!0,Q=r.position.clone()}function Be(){m=new se({antialias:!0}),m.setPixelRatio(window.devicePixelRatio),m.setSize(window.innerWidth,window.innerHeight),m.setAnimationLoop(Ie),document.body.appendChild(m.domElement),r=new ae(45,window.innerWidth/window.innerHeight,1,1e3),r.position.set(0,0,500),R=new ie(r,m.domElement),R.minDistance=200,R.maxDistance=500,s=new re,s.background=new ce(Pe),s.add(new le(6710886));const t=new de(16777215,3,0,0);t.position.copy(r.position),s.add(t),ve(),Ce(),Ee();const e=C(S[0],"experience","Experience");s.add(e),h.push(e);const o=C(S[1],"competences","Compétences");s.add(o),h.push(o);const n=C(S[2],"presentation","Présentation");s.add(n),h.push(n);const a=C(S[3],"interets","Intérets");s.add(a),h.push(a);const c=C(S[4],"cursus","Cursus");s.add(c),h.push(c),ze(),De(),x=new pe,M=new Z,window.addEventListener("mousemove",Le),window.addEventListener("click",je),window.addEventListener("resize",Ge),window.addEventListener("pageshow",Ae)}function Le(t){M.x=t.clientX/window.innerWidth*2-1,M.y=-(t.clientY/window.innerHeight)*2+1,x.setFromCamera(M,r),x.intersectObjects(h).forEach(o=>{const n=o.object;n.userData.spinning||(n.userData.spinning=!0,n.userData.startRotation=n.rotation.y,n.userData.targetRotation=n.rotation.y+Math.PI*2)})}function je(t){M.x=t.clientX/window.innerWidth*2-1,M.y=-(t.clientY/window.innerHeight)*2+1,x.setFromCamera(M,r);const e=x.intersectObjects(h);e.length>0&&Re(e[0].object),x.intersectObjects([B]).length>0&&(window.location.href="index.html"),x.intersectObjects([L]).length>0&&window.open("CV_Mylene_BenierRollet.pdf","_blank")}function Ge(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight)}function Ae(t){t.persisted&&(r.position.set(0,0,500),r.lookAt(0,0,0))}function He(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}function _e(t){J.forEach(e=>{const o=(t*.05+e.offset)%1,n=U.getPointAt(o),a=Math.floor(o*_.tangents.length),c=_.normals[a],u=_.binormals[a],i=t*2+e.offset*Math.PI*2,l=10,w=c.clone().multiplyScalar(Math.cos(i)*l).add(u.clone().multiplyScalar(Math.sin(i)*l));e.sprite.position.copy(n.clone().add(w)),e.sprite.position.add(new g((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function Fe(t){h.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.2,Math.cos(e.rotation.y)>0?e.position.y+=.5:e.position.y-=.5,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))})}function We(t){if(W&&z){const e=Math.min((t-N)/ye,1),o=He(e),n=z.position.clone().add(new g(0,0,-10));r.position.lerpVectors(Q,n,o),r.lookAt(z.position),e>=1&&(W=!1,setTimeout(()=>{window.location.href=`./${z.name}.html`},300))}}function Ie(){R.update();const t=K.getDelta();_e(t),Fe(),We(performance.now()),Te()}function Te(){const t=K.getDelta()*.5;for(let e=0;e<s.children.length;e++){const o=s.children[e];if(o instanceof q){const n=(e<2?e+1:-(e+1))*.4;o.rotation.y+=n*t}}m.render(s,r)}
