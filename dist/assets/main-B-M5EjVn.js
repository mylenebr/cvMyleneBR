import{C as et,M as O,V as l,a as u,Q as it,b as W,L as ot,F as st,S as nt,E as V,W as ht,c as at,d as rt,P as ct,A as pt,e as dt,R as lt,f as mt,g as X,h as q,i as ut}from"./three.module-BhqzQKZ_.js";const R={type:"change"},H={type:"start"},Y={type:"end"},K=1e-6,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},z=new u,E=new u,_t=new l,A=new l,U=new l,C=new it,B=new l,L=new l,I=new l,N=new l;class yt extends et{constructor(t,i=null){super(t,i),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:O.ROTATE,MIDDLE:O.DOLLY,RIGHT:O.PAN},this.target=new l,this.state=s.NONE,this.keyState=s.NONE,this._lastPosition=new l,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new l,this._movePrev=new u,this._moveCurr=new u,this._lastAxis=new l,this._zoomStart=new u,this._zoomEnd=new u,this._panStart=new u,this._panEnd=new u,this._pointers=[],this._pointerPositions={},this._onPointerMove=gt.bind(this),this._onPointerDown=ft.bind(this),this._onPointerUp=wt.bind(this),this._onPointerCancel=bt.bind(this),this._onContextMenu=Ot.bind(this),this._onMouseWheel=Ct.bind(this),this._onKeyDown=Pt.bind(this),this._onKeyUp=Et.bind(this),this._onTouchStart=xt.bind(this),this._onTouchMove=Tt.bind(this),this._onTouchEnd=Dt.bind(this),this._onMouseDown=vt.bind(this),this._onMouseMove=St.bind(this),this._onMouseUp=Mt.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,i!==null&&(this.connect(i),this.handleResize()),this.update()}connect(t){super.connect(t),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const t=this.domElement.getBoundingClientRect(),i=this.domElement.ownerDocument.documentElement;this.screen.left=t.left+window.pageXOffset-i.clientLeft,this.screen.top=t.top+window.pageYOffset-i.clientTop,this.screen.width=t.width,this.screen.height=t.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>K&&(this.dispatchEvent(R),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>K||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(R),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=s.NONE,this.keyState=s.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(R),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(E.copy(this._panEnd).sub(this._panStart),E.lengthSq()){if(this.object.isOrthographicCamera){const t=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,i=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;E.x*=t,E.y*=i}E.multiplyScalar(this._eye.length()*this.panSpeed),A.copy(this._eye).cross(this.object.up).setLength(E.x),A.add(_t.copy(this.object.up).setLength(E.y)),this.object.position.add(A),this.target.add(A),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(E.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){N.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let t=N.length();t?(this._eye.copy(this.object.position).sub(this.target),B.copy(this._eye).normalize(),L.copy(this.object.up).normalize(),I.crossVectors(L,B).normalize(),L.setLength(this._moveCurr.y-this._movePrev.y),I.setLength(this._moveCurr.x-this._movePrev.x),N.copy(L.add(I)),U.crossVectors(N,this._eye).normalize(),t*=this.rotateSpeed,C.setFromAxisAngle(U,t),this._eye.applyQuaternion(C),this.object.up.applyQuaternion(C),this._lastAxis.copy(U),this._lastAngle=t):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),C.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(C),this.object.up.applyQuaternion(C)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let t;this.state===s.TOUCH_ZOOM_PAN?(t=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=W.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,t!==1&&t>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=W.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(t,i){return z.set((t-this.screen.left)/this.screen.width,(i-this.screen.top)/this.screen.height),z}_getMouseOnCircle(t,i){return z.set((t-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-i))/this.screen.width),z}_addPointer(t){this._pointers.push(t)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let i=0;i<this._pointers.length;i++)if(this._pointers[i].pointerId==t.pointerId){this._pointers.splice(i,1);return}}_trackPointer(t){let i=this._pointerPositions[t.pointerId];i===void 0&&(i=new u,this._pointerPositions[t.pointerId]=i),i.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const i=t.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[i.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function ft(e){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(e),e.pointerType==="touch"?this._onTouchStart(e):this._onMouseDown(e))}function gt(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchMove(e):this._onMouseMove(e))}function wt(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchEnd(e):this._onMouseUp(),this._removePointer(e),this._pointers.length===0&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function bt(e){this._removePointer(e)}function Et(){this.enabled!==!1&&(this.keyState=s.NONE,window.addEventListener("keydown",this._onKeyDown))}function Pt(e){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===s.NONE&&(e.code===this.keys[s.ROTATE]&&!this.noRotate?this.keyState=s.ROTATE:e.code===this.keys[s.ZOOM]&&!this.noZoom?this.keyState=s.ZOOM:e.code===this.keys[s.PAN]&&!this.noPan&&(this.keyState=s.PAN)))}function vt(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case O.DOLLY:this.state=s.ZOOM;break;case O.ROTATE:this.state=s.ROTATE;break;case O.PAN:this.state=s.PAN;break;default:this.state=s.NONE}const i=this.keyState!==s.NONE?this.keyState:this.state;i===s.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr)):i===s.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._zoomEnd.copy(this._zoomStart)):i===s.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(H)}function St(e){const t=this.keyState!==s.NONE?this.keyState:this.state;t===s.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY))):t===s.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY)):t===s.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY))}function Mt(){this.state=s.NONE,this.dispatchEvent(Y)}function Ct(e){if(this.enabled!==!1&&this.noZoom!==!0){switch(e.preventDefault(),e.deltaMode){case 2:this._zoomStart.y-=e.deltaY*.025;break;case 1:this._zoomStart.y-=e.deltaY*.01;break;default:this._zoomStart.y-=e.deltaY*25e-5;break}this.dispatchEvent(H),this.dispatchEvent(Y)}}function Ot(e){this.enabled!==!1&&e.preventDefault()}function xt(e){switch(this._trackPointer(e),this._pointers.length){case 1:this.state=s.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=s.TOUCH_ZOOM_PAN;const t=this._pointers[0].pageX-this._pointers[1].pageX,i=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(t*t+i*i);const o=(this._pointers[0].pageX+this._pointers[1].pageX)/2,h=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(o,h)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(H)}function Tt(e){switch(this._trackPointer(e),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY));break;default:const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,o=e.pageY-t.y;this._touchZoomDistanceEnd=Math.sqrt(i*i+o*o);const h=(e.pageX+t.x)/2,a=(e.pageY+t.y)/2;this._panEnd.copy(this._getMouseOnScreen(h,a));break}}function Dt(e){switch(this._pointers.length){case 0:this.state=s.NONE;break;case 1:this.state=s.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=s.TOUCH_ZOOM_PAN;for(let t=0;t<this._pointers.length;t++)if(this._pointers[t].pointerId!==e.pointerId){const i=this._pointerPositions[this._pointers[t].pointerId];this._moveCurr.copy(this._getMouseOnCircle(i.x,i.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(Y)}class jt extends ot{constructor(t){super(t)}load(t,i,o,h){const a=this,c=new st(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(d){const m=a.parse(JSON.parse(d));i&&i(m)},o,h)}parse(t){return new kt(t)}}class kt{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,i=100){const o=[],h=zt(t,i,this.data);for(let a=0,c=h.length;a<c;a++)o.push(...h[a].toShapes());return o}}function zt(e,t,i){const o=Array.from(e),h=t/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*h,c=[];let d=0,m=0;for(let g=0;g<o.length;g++){const w=o[g];if(w===`
`)d=0,m-=a;else{const _=At(w,h,d,m,i);d+=_.offsetX,c.push(_.path)}}return c}function At(e,t,i,o,h){const a=h.glyphs[e]||h.glyphs["?"];if(!a){console.error('THREE.Font: character "'+e+'" does not exists in font family '+h.familyName+".");return}const c=new nt;let d,m,g,w,_,M,k,b;if(a.o){const r=a._cachedOutline||(a._cachedOutline=a.o.split(" "));for(let n=0,y=r.length;n<y;)switch(r[n++]){case"m":d=r[n++]*t+i,m=r[n++]*t+o,c.moveTo(d,m);break;case"l":d=r[n++]*t+i,m=r[n++]*t+o,c.lineTo(d,m);break;case"q":g=r[n++]*t+i,w=r[n++]*t+o,_=r[n++]*t+i,M=r[n++]*t+o,c.quadraticCurveTo(_,M,g,w);break;case"b":g=r[n++]*t+i,w=r[n++]*t+o,_=r[n++]*t+i,M=r[n++]*t+o,k=r[n++]*t+i,b=r[n++]*t+o,c.bezierCurveTo(_,M,k,b,g,w);break}}return{offsetX:a.ha*t,path:c}}class Lt extends V{constructor(t,i={}){const o=i.font;if(o===void 0)super();else{const h=o.generateShapes(t,i.size);i.depth===void 0&&(i.depth=50),i.bevelThickness===void 0&&(i.bevelThickness=10),i.bevelSize===void 0&&(i.bevelSize=8),i.bevelEnabled===void 0&&(i.bevelEnabled=!1),super(h,i)}this.type="TextGeometry"}}let p,f,P,Z,j,S,v=[],D=null,F=!1,G=null,Nt=1e3;Zt();function T(e,t,i,o,h){const a=[];for(let n=0;n<10;n++){const y=n%2==1?10:20,x=n/5*Math.PI;a.push(new u(Math.cos(x)*y,Math.sin(x)*y))}const d=new mt(a),m=new X({color:6037302,wireframe:!1}),w=[new X({color:16761566,wireframe:!1}),m],_=20,M={depth:_,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},k=new V(d,M),b=new q(k,w);return b.position.set(e,t,i),b.userData.isHovered=!1,b.name=o,new jt().load("fonts/optimer_bold.typeface.json",function(n){const y=new Lt(h,{font:n,size:10,depth:5,height:0,curveSegments:8});y.computeBoundingBox();const x=y.boundingBox.max.x-y.boundingBox.min.x,$=_+1;y.translate(-x/2,1.5,$);const J=new ut({color:16777215,metalness:.5,roughness:.5}),tt=new q(y,J);b.add(tt)},function(n){console.log(n.loaded/n.total*100+"% loaded")},function(n){console.log("An error happened")}),b}function Zt(){P=new ht({antialias:!0}),P.setPixelRatio(window.devicePixelRatio),P.setSize(window.innerWidth,window.innerHeight),P.setAnimationLoop(Q),document.body.appendChild(P.domElement),f=new at,f.background=new rt(16767980),p=new ct(45,window.innerWidth/window.innerHeight,1,1e3),p.position.set(0,0,500),Z=new yt(p,P.domElement),Z.minDistance=200,Z.maxDistance=500,f.add(new pt(6710886));const e=new dt(16777215,3,0,0);e.position.copy(p.position),f.add(e);const t=T(-250,50,10,"star1","Experience");f.add(t);const i=T(-150,-100,10,"star2","Compétences");f.add(i);const o=T(-50,30,10,"star3","Cursus");f.add(o);const h=T(30,-120,10,"star4","Intérets");f.add(h);const a=T(200,20,10,"star5","???");f.add(a),v.push(t),v.push(i),v.push(o),v.push(h),v.push(a),j=new lt,S=new u,window.addEventListener("mousemove",Rt),window.addEventListener("click",Ut),window.addEventListener("resize",It)}function Rt(e){S.x=e.clientX/window.innerWidth*2-1,S.y=-(e.clientY/window.innerHeight)*2+1,j.setFromCamera(S,p),j.intersectObjects(v).forEach(i=>{const o=i.object;o.userData.spinning||(o.userData.spinning=!0,o.userData.startRotation=o.rotation.y,o.userData.targetRotation=o.rotation.y+Math.PI*2)})}function Ut(e){S.x=e.clientX/window.innerWidth*2-1,S.y=-(e.clientY/window.innerHeight)*2+1,j.setFromCamera(S,p);const t=j.intersectObjects(v);t.length>0&&(D=t[0].object,F=!0,G=performance.now(),zoomStartPos=p.position.clone())}function It(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),P.setSize(window.innerWidth,window.innerHeight)}function Ft(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function Q(){if(requestAnimationFrame(Q),Z.update(),v.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.001,Math.cos(e.rotation.y)>0?e.position.y+=.005:e.position.y-=.005,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))}),F&&D){const e=performance.now(),t=Math.min((e-G)/Nt,1),i=Ft(t),o=D.position.clone().add(new l(0,0,3));p.position.lerpVectors(p.position,o,i),p.lookAt(D.position),t>=1&&(F=!1,setTimeout(()=>{window.location.href=`./${D.name}.html`},300))}P.render(f,p)}
