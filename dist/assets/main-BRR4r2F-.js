import{F as O,C as ce,V as m,T as F,a as j,M as W,b,c as T,W as le,P as de,d as pe,S as ue,e as we,A as me,f as fe,R as he,g as ge,h as X,i as Y,j as q,k as xe,B as Me,l as B,m as be,n as ye,o as Z,p as Se,q as V,E as ke,r as Pe,s as Ce}from"./TextGeometry-BWGeakaV.js";const $=new O;let J=null;$.load("fonts/optimer_bold.typeface.json",e=>{J=e,oe()});let K=null;$.load("fonts/optimer_regular.typeface.json",e=>{K=e,se()});let r,a,h,D,x,M,C,g=[],N=[];const G=[],Q=new ge;let E,k,z=null,A=!1,U=0,ve=1e3,ee=null,H=16770032,I=6037302,ze=6375504,Re=13476528;const S=[new m(-250,50,10),new m(-150,-100,10),new m(-50,30,10),new m(30,-120,10),new m(200,20,10)],te=new ce(S),_=te.computeFrenetFrames(100,!0);let L;function ne(e,t,o,n,i,l,p){if(!e)return;const s=new q(t,{font:e,size:o,depth:n,curveSegments:i});s.center();const c=new T({color:l}),d=new b(s,c);d.position.set(p.x,p.y,p.z),a.add(d)}je();function oe(){ne(J,"Mylène Bénier-Rollet",20,2,8,H,new m(0,100,10))}function Be(){const e=new F().load("textures/pictures/cv_picture.jpeg"),t=new j(30,32),o=new W({map:e,transparent:!1});E=new b(t,o),E.position.set(-320,130,10),a.add(E);const n=new j(32,32),i=new T({color:I});k=new b(n,i),k.position.set(-320,130,9.9),a.add(k)}function v(e,t,o){const n=[];for(let u=0;u<10;u++){const f=u%2==1?10:20,R=u/5*Math.PI;n.push(new Y(Math.cos(R)*f,Math.sin(R)*f))}const l=new Se(n),p=new V({color:I,wireframe:!1}),c=[new V({color:Re,wireframe:!1}),p],d=20,P={depth:d,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},y=new ke(l,P),w=new b(y,c);return w.position.set(e.x,e.y,e.z),w.userData.isHovered=!1,w.name=t,new O().load("fonts/optimer_bold.typeface.json",function(u){const f=new q(o,{font:u,size:10,depth:2,height:0,curveSegments:8});f.computeBoundingBox();const R=f.boundingBox.max.x-f.boundingBox.min.x,ae=d+1;f.translate(-R/2,1.5,ae);const ie=new W({color:H}),re=new b(f,ie);w.add(re)},function(u){console.log(u.loaded/u.total*100+"% loaded")},function(u){console.log("An error happened")}),w}function De(){const e=new F().load("textures/sprites/sparkle.png"),t=new Pe({map:e,color:16777130,transparent:!0,blending:Z,depthWrite:!1});for(let o=0;o<2e3;o++){const n=new Ce(t.clone());n.scale.set(1,1,1),a.add(n),N.push({sprite:n,offset:Math.random()})}}function se(){const e=new F().load("cv_icon.jpg"),t=new j(15,32),o=new W({map:e,transparent:!1});L=new b(t,o),L.position.set(-95,-165,10),a.add(L);const n=new j(17,32),i=new T({color:I});k=new b(n,i),k.position.set(-95,-165,9.9),a.add(k),ne(K,"mylene.benier.rollet@gmail.com",8,1,8,H,new m(0,-170,10))}function Ee(){a.fog=new xe(0,8e-4);const e=new Me,t=[],o=new F,n=s=>{s.colorSpace=B},i=o.load("textures/sprites/snowflake2.png",n);i.colorSpace=B;const l=o.load("textures/sprites/snowflake4.png",n);l.colorSpace=B;const p=o.load("textures/sprites/snowflake5.png",n);p.colorSpace=B;for(let s=0;s<2e3;s++){const c=Math.random()*2e3-1e3,d=Math.random()*2e3-1e3,P=Math.random()*2e3-1e3;t.push(c,d,P)}e.setAttribute("position",new be(t,3)),C=[[[.92,.31,.54],i,20],[[1,1,1],l,11],[[.92,.31,.54],p,6]];for(let s=0;s<C.length;s++){const c=C[s][0],d=C[s][1],P=C[s][2];G[s]=new ye({size:P,map:d,blending:Z,depthTest:!1,depthWrite:!1,transparent:!0}),G[s].color.setHSL(c[0],c[1],c[2]);const y=new X(e,G[s]),w=6;y.rotation.x=Math.random()*w,y.rotation.y=Math.random()*w,y.rotation.z=Math.random()*w,a.add(y)}}function Le(e){z=e,U=performance.now(),A=!0,ee=r.position.clone()}function je(){h=new le({antialias:!0}),h.setPixelRatio(window.devicePixelRatio),h.setSize(window.innerWidth,window.innerHeight),h.setAnimationLoop(Ve),document.body.appendChild(h.domElement),r=new de(45,window.innerWidth/window.innerHeight,1,1e3),r.position.set(0,0,500),D=new pe(r,h.domElement),D.minDistance=200,D.maxDistance=500,a=new ue,a.background=new we(ze),a.add(new me(6710886));const e=new fe(16777215,3,0,0);e.position.copy(r.position),a.add(e),oe(),Be(),Ee();const t=v(S[0],"experience","Experience");a.add(t),g.push(t);const o=v(S[1],"competences","Compétences");a.add(o),g.push(o);const n=v(S[2],"presentation","Présentation");a.add(n),g.push(n);const i=v(S[3],"interets","Intérets");a.add(i),g.push(i);const l=v(S[4],"cursus","Cursus");a.add(l),g.push(l),De(),se(),x=new he,M=new Y,window.addEventListener("mousemove",Fe),window.addEventListener("click",Ge),window.addEventListener("resize",_e),window.addEventListener("pageshow",Ae)}function Fe(e){M.x=e.clientX/window.innerWidth*2-1,M.y=-(e.clientY/window.innerHeight)*2+1,x.setFromCamera(M,r),x.intersectObjects(g).forEach(o=>{const n=o.object;n.userData.spinning||(n.userData.spinning=!0,n.userData.startRotation=n.rotation.y,n.userData.targetRotation=n.rotation.y+Math.PI*2)})}function Ge(e){M.x=e.clientX/window.innerWidth*2-1,M.y=-(e.clientY/window.innerHeight)*2+1,x.setFromCamera(M,r);const t=x.intersectObjects(g);t.length>0&&Le(t[0].object),x.intersectObjects([E]).length>0&&(window.location.href="index.html"),x.intersectObjects([L]).length>0&&window.open("CV_Mylene_BenierRollet.pdf","_blank")}function _e(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)}function Ae(e){e.persisted&&(r.position.set(0,0,500),r.lookAt(0,0,0))}function We(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function Te(e){N.forEach(t=>{const o=(e*.05+t.offset)%1,n=te.getPointAt(o),i=Math.floor(o*_.tangents.length),l=_.normals[i],p=_.binormals[i],s=e*2+t.offset*Math.PI*2,c=10,d=l.clone().multiplyScalar(Math.cos(s)*c).add(p.clone().multiplyScalar(Math.sin(s)*c));t.sprite.position.copy(n.clone().add(d)),t.sprite.position.add(new m((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function He(e){g.forEach(t=>{t.userData.spinning&&(t.rotation.y+=.2,Math.cos(t.rotation.y)>0?t.position.y+=.5:t.position.y-=.5,t.rotation.y>=t.userData.targetRotation&&(t.rotation.y=t.userData.targetRotation,t.userData.spinning=!1))})}function Ie(e){if(A&&z){const t=Math.min((e-U)/ve,1),o=We(t),n=z.position.clone().add(new m(0,0,-10));r.position.lerpVectors(ee,n,o),r.lookAt(z.position),t>=1&&(A=!1,setTimeout(()=>{window.location.href=`./${z.name}.html`},300))}}function Ve(){D.update();const e=Q.getDelta();Te(e),He(),Ie(performance.now()),Oe()}function Oe(){const e=Q.getDelta()*.5;for(let t=0;t<a.children.length;t++){const o=a.children[t];if(o instanceof X){const n=(t<2?t+1:-(t+1))*.4;o.rotation.y+=n*e}}h.render(a,r)}
