import{F as V,C as ie,V as h,T as G,a as j,M as W,b,c as T,W as re,P as ce,d as le,S as de,e as pe,A as ue,f as we,R as fe,g as me,h as O,i as X,j as Y,k as he,B as ge,l as D,m as xe,n as Me,o as q,p as be,q as I,E as ye,r as Se,s as ke}from"./TextGeometry-BWGeakaV.js";const Z=new V;let $=null;Z.load("fonts/optimer_bold.typeface.json",e=>{$=e,te()});Z.load("fonts/optimer_regular.typeface.json",e=>{ne()});let r,a,m,E,x,M,C,g=[],J=[];const F=[],K=new me;let R,k,z=null,A=!1,N=0,Pe=1e3,Q=null,U=16770032,H=6037302,Ce=6375504,ve=13476528;const S=[new h(-250,50,10),new h(-150,-100,10),new h(-50,30,10),new h(30,-120,10),new h(200,20,10)],ee=new ie(S),_=ee.computeFrenetFrames(100,!0);let L;function ze(e,t,o,n,i,l,p){if(!e)return;const s=new Y(t,{font:e,size:o,depth:n,curveSegments:i});s.center();const c=new T({color:l}),d=new b(s,c);d.position.set(p.x,p.y,p.z),a.add(d)}Le();function te(){ze($,"Mylène Bénier-Rollet",20,2,8,U,new h(0,100,10))}function Be(){const e=new G().load("textures/pictures/cv_picture.jpeg"),t=new j(30,32),o=new W({map:e,transparent:!1});R=new b(t,o),R.position.set(-320,130,10),a.add(R);const n=new j(32,32),i=new T({color:H});k=new b(n,i),k.position.set(-320,130,9.9),a.add(k)}function v(e,t,o){const n=[];for(let u=0;u<10;u++){const f=u%2==1?10:20,B=u/5*Math.PI;n.push(new X(Math.cos(B)*f,Math.sin(B)*f))}const l=new be(n),p=new I({color:H,wireframe:!1}),c=[new I({color:ve,wireframe:!1}),p],d=20,P={depth:d,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},y=new ye(l,P),w=new b(y,c);return w.position.set(e.x,e.y,e.z),w.userData.isHovered=!1,w.name=t,new V().load("fonts/optimer_bold.typeface.json",function(u){const f=new Y(o,{font:u,size:10,depth:2,height:0,curveSegments:8});f.computeBoundingBox();const B=f.boundingBox.max.x-f.boundingBox.min.x,oe=d+1;f.translate(-B/2,1.5,oe);const se=new W({color:U}),ae=new b(f,se);w.add(ae)},function(u){console.log(u.loaded/u.total*100+"% loaded")},function(u){console.log("An error happened")}),w}function De(){const e=new G().load("textures/sprites/sparkle.png"),t=new Se({map:e,color:16777130,transparent:!0,blending:q,depthWrite:!1});for(let o=0;o<2e3;o++){const n=new ke(t.clone());n.scale.set(1,1,1),a.add(n),J.push({sprite:n,offset:Math.random()})}}function ne(){const e=new G().load("cv_icon.jpg"),t=new j(15,32),o=new W({map:e,transparent:!1});L=new b(t,o),L.position.set(-95,-165,10),a.add(L);const n=new j(17,32),i=new T({color:H});k=new b(n,i),k.position.set(-95,-165,9.9),a.add(k)}function Ee(){a.fog=new he(0,8e-4);const e=new ge,t=[],o=new G,n=s=>{s.colorSpace=D},i=o.load("textures/sprites/snowflake2.png",n);i.colorSpace=D;const l=o.load("textures/sprites/snowflake4.png",n);l.colorSpace=D;const p=o.load("textures/sprites/snowflake5.png",n);p.colorSpace=D;for(let s=0;s<2e3;s++){const c=Math.random()*2e3-1e3,d=Math.random()*2e3-1e3,P=Math.random()*2e3-1e3;t.push(c,d,P)}e.setAttribute("position",new xe(t,3)),C=[[[.92,.31,.54],i,20],[[1,1,1],l,11],[[.92,.31,.54],p,6]];for(let s=0;s<C.length;s++){const c=C[s][0],d=C[s][1],P=C[s][2];F[s]=new Me({size:P,map:d,blending:q,depthTest:!1,depthWrite:!1,transparent:!0}),F[s].color.setHSL(c[0],c[1],c[2]);const y=new O(e,F[s]),w=6;y.rotation.x=Math.random()*w,y.rotation.y=Math.random()*w,y.rotation.z=Math.random()*w,a.add(y)}}function Re(e){z=e,N=performance.now(),A=!0,Q=r.position.clone()}function Le(){m=new re({antialias:!0}),m.setPixelRatio(window.devicePixelRatio),m.setSize(window.innerWidth,window.innerHeight),m.setAnimationLoop(Ie),document.body.appendChild(m.domElement),r=new ce(45,window.innerWidth/window.innerHeight,1,1e3),r.position.set(0,0,500),E=new le(r,m.domElement),E.minDistance=200,E.maxDistance=500,a=new de,a.background=new pe(Ce),a.add(new ue(6710886));const e=new we(16777215,3,0,0);e.position.copy(r.position),a.add(e),te(),Be(),Ee();const t=v(S[0],"experience","Experience");a.add(t),g.push(t);const o=v(S[1],"competences","Compétences");a.add(o),g.push(o);const n=v(S[2],"presentation","Présentation");a.add(n),g.push(n);const i=v(S[3],"interets","Intérets");a.add(i),g.push(i);const l=v(S[4],"cursus","Cursus");a.add(l),g.push(l),De(),ne(),x=new fe,M=new X,window.addEventListener("mousemove",je),window.addEventListener("click",Ge),window.addEventListener("resize",Fe),window.addEventListener("pageshow",_e)}function je(e){M.x=e.clientX/window.innerWidth*2-1,M.y=-(e.clientY/window.innerHeight)*2+1,x.setFromCamera(M,r),x.intersectObjects(g).forEach(o=>{const n=o.object;n.userData.spinning||(n.userData.spinning=!0,n.userData.startRotation=n.rotation.y,n.userData.targetRotation=n.rotation.y+Math.PI*2)})}function Ge(e){M.x=e.clientX/window.innerWidth*2-1,M.y=-(e.clientY/window.innerHeight)*2+1,x.setFromCamera(M,r);const t=x.intersectObjects(g);t.length>0&&Re(t[0].object),x.intersectObjects([R]).length>0&&(window.location.href="index.html"),x.intersectObjects([L]).length>0&&window.open("CV_Mylene_BenierRollet.pdf","_blank")}function Fe(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight)}function _e(e){e.persisted&&(r.position.set(0,0,500),r.lookAt(0,0,0))}function Ae(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function We(e){J.forEach(t=>{const o=(e*.05+t.offset)%1,n=ee.getPointAt(o),i=Math.floor(o*_.tangents.length),l=_.normals[i],p=_.binormals[i],s=e*2+t.offset*Math.PI*2,c=10,d=l.clone().multiplyScalar(Math.cos(s)*c).add(p.clone().multiplyScalar(Math.sin(s)*c));t.sprite.position.copy(n.clone().add(d)),t.sprite.position.add(new h((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2))})}function Te(e){g.forEach(t=>{t.userData.spinning&&(t.rotation.y+=.2,Math.cos(t.rotation.y)>0?t.position.y+=.5:t.position.y-=.5,t.rotation.y>=t.userData.targetRotation&&(t.rotation.y=t.userData.targetRotation,t.userData.spinning=!1))})}function He(e){if(A&&z){const t=Math.min((e-N)/Pe,1),o=Ae(t),n=z.position.clone().add(new h(0,0,-10));r.position.lerpVectors(Q,n,o),r.lookAt(z.position),t>=1&&(A=!1,setTimeout(()=>{window.location.href=`./${z.name}.html`},300))}}function Ie(){E.update();const e=K.getDelta();We(e),Te(),He(performance.now()),Ve()}function Ve(){const e=K.getDelta()*.5;for(let t=0;t<a.children.length;t++){const o=a.children[t];if(o instanceof O){const n=(t<2?t+1:-(t+1))*.4;o.rotation.y+=n*e}}m.render(a,r)}
