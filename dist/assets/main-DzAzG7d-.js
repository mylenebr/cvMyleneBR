import{C as nt,M as T,V as b,a as E,Q as at,b as q,L as ht,F as rt,S as ct,E as $,W as pt,P as lt,c as dt,d as mt,B as ut,T as _t,e as A,f as yt,g as ft,A as gt,h as J,i as wt,j as bt,R as Et,k as Pt,l as K,m as V,n as vt}from"./three.module-CT2iTj7Q.js";const F={type:"change"},W={type:"start"},X={type:"end"},G=1e-6,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},L=new E,v=new E,St=new b,N=new b,H=new b,O=new at,Q=new b,R=new b,Y=new b,Z=new b;class Mt extends nt{constructor(t,o=null){super(t,o),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:T.ROTATE,MIDDLE:T.DOLLY,RIGHT:T.PAN},this.target=new b,this.state=n.NONE,this.keyState=n.NONE,this._lastPosition=new b,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new b,this._movePrev=new E,this._moveCurr=new E,this._lastAxis=new b,this._zoomStart=new E,this._zoomEnd=new E,this._panStart=new E,this._panEnd=new E,this._pointers=[],this._pointerPositions={},this._onPointerMove=Ot.bind(this),this._onPointerDown=xt.bind(this),this._onPointerUp=Ct.bind(this),this._onPointerCancel=Tt.bind(this),this._onContextMenu=Nt.bind(this),this._onMouseWheel=Lt.bind(this),this._onKeyDown=kt.bind(this),this._onKeyUp=jt.bind(this),this._onTouchStart=Rt.bind(this),this._onTouchMove=Zt.bind(this),this._onTouchEnd=Ut.bind(this),this._onMouseDown=Dt.bind(this),this._onMouseMove=zt.bind(this),this._onMouseUp=At.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,o!==null&&(this.connect(o),this.handleResize()),this.update()}connect(t){super.connect(t),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const t=this.domElement.getBoundingClientRect(),o=this.domElement.ownerDocument.documentElement;this.screen.left=t.left+window.pageXOffset-o.clientLeft,this.screen.top=t.top+window.pageYOffset-o.clientTop,this.screen.width=t.width,this.screen.height=t.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>G&&(this.dispatchEvent(F),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>G||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(F),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=n.NONE,this.keyState=n.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(F),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(v.copy(this._panEnd).sub(this._panStart),v.lengthSq()){if(this.object.isOrthographicCamera){const t=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,o=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;v.x*=t,v.y*=o}v.multiplyScalar(this._eye.length()*this.panSpeed),N.copy(this._eye).cross(this.object.up).setLength(v.x),N.add(St.copy(this.object.up).setLength(v.y)),this.object.position.add(N),this.target.add(N),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(v.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){Z.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let t=Z.length();t?(this._eye.copy(this.object.position).sub(this.target),Q.copy(this._eye).normalize(),R.copy(this.object.up).normalize(),Y.crossVectors(R,Q).normalize(),R.setLength(this._moveCurr.y-this._movePrev.y),Y.setLength(this._moveCurr.x-this._movePrev.x),Z.copy(R.add(Y)),H.crossVectors(Z,this._eye).normalize(),t*=this.rotateSpeed,O.setFromAxisAngle(H,t),this._eye.applyQuaternion(O),this.object.up.applyQuaternion(O),this._lastAxis.copy(H),this._lastAngle=t):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),O.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(O),this.object.up.applyQuaternion(O)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let t;this.state===n.TOUCH_ZOOM_PAN?(t=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=q.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,t!==1&&t>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(t):this.object.isOrthographicCamera?(this.object.zoom=q.clamp(this.object.zoom/t,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(t,o){return L.set((t-this.screen.left)/this.screen.width,(o-this.screen.top)/this.screen.height),L}_getMouseOnCircle(t,o){return L.set((t-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-o))/this.screen.width),L}_addPointer(t){this._pointers.push(t)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let o=0;o<this._pointers.length;o++)if(this._pointers[o].pointerId==t.pointerId){this._pointers.splice(o,1);return}}_trackPointer(t){let o=this._pointerPositions[t.pointerId];o===void 0&&(o=new E,this._pointerPositions[t.pointerId]=o),o.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const o=t.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[o.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function xt(e){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(e),e.pointerType==="touch"?this._onTouchStart(e):this._onMouseDown(e))}function Ot(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchMove(e):this._onMouseMove(e))}function Ct(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchEnd(e):this._onMouseUp(),this._removePointer(e),this._pointers.length===0&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function Tt(e){this._removePointer(e)}function jt(){this.enabled!==!1&&(this.keyState=n.NONE,window.addEventListener("keydown",this._onKeyDown))}function kt(e){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===n.NONE&&(e.code===this.keys[n.ROTATE]&&!this.noRotate?this.keyState=n.ROTATE:e.code===this.keys[n.ZOOM]&&!this.noZoom?this.keyState=n.ZOOM:e.code===this.keys[n.PAN]&&!this.noPan&&(this.keyState=n.PAN)))}function Dt(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case T.DOLLY:this.state=n.ZOOM;break;case T.ROTATE:this.state=n.ROTATE;break;case T.PAN:this.state=n.PAN;break;default:this.state=n.NONE}const o=this.keyState!==n.NONE?this.keyState:this.state;o===n.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr)):o===n.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._zoomEnd.copy(this._zoomStart)):o===n.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(e.pageX,e.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(W)}function zt(e){const t=this.keyState!==n.NONE?this.keyState:this.state;t===n.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY))):t===n.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY)):t===n.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(e.pageX,e.pageY))}function At(){this.state=n.NONE,this.dispatchEvent(X)}function Lt(e){if(this.enabled!==!1&&this.noZoom!==!0){switch(e.preventDefault(),e.deltaMode){case 2:this._zoomStart.y-=e.deltaY*.025;break;case 1:this._zoomStart.y-=e.deltaY*.01;break;default:this._zoomStart.y-=e.deltaY*25e-5;break}this.dispatchEvent(W),this.dispatchEvent(X)}}function Nt(e){this.enabled!==!1&&e.preventDefault()}function Rt(e){switch(this._trackPointer(e),this._pointers.length){case 1:this.state=n.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=n.TOUCH_ZOOM_PAN;const t=this._pointers[0].pageX-this._pointers[1].pageX,o=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(t*t+o*o);const i=(this._pointers[0].pageX+this._pointers[1].pageX)/2,a=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(i,a)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(W)}function Zt(e){switch(this._trackPointer(e),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY));break;default:const t=this._getSecondPointerPosition(e),o=e.pageX-t.x,i=e.pageY-t.y;this._touchZoomDistanceEnd=Math.sqrt(o*o+i*i);const a=(e.pageX+t.x)/2,h=(e.pageY+t.y)/2;this._panEnd.copy(this._getMouseOnScreen(a,h));break}}function Ut(e){switch(this._pointers.length){case 0:this.state=n.NONE;break;case 1:this.state=n.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(e.pageX,e.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=n.TOUCH_ZOOM_PAN;for(let t=0;t<this._pointers.length;t++)if(this._pointers[t].pointerId!==e.pointerId){const o=this._pointerPositions[this._pointers[t].pointerId];this._moveCurr.copy(this._getMouseOnCircle(o.x,o.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(X)}class It extends ht{constructor(t){super(t)}load(t,o,i,a){const h=this,c=new rt(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(l){const m=h.parse(JSON.parse(l));o&&o(m)},i,a)}parse(t){return new Ft(t)}}class Ft{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,o=100){const i=[],a=Ht(t,o,this.data);for(let h=0,c=a.length;h<c;h++)i.push(...a[h].toShapes());return i}}function Ht(e,t,o){const i=Array.from(e),a=t/o.resolution,h=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*a,c=[];let l=0,m=0;for(let g=0;g<i.length;g++){const w=i[g];if(w===`
`)l=0,m-=h;else{const _=Yt(w,a,l,m,o);l+=_.offsetX,c.push(_.path)}}return c}function Yt(e,t,o,i,a){const h=a.glyphs[e]||a.glyphs["?"];if(!h){console.error('THREE.Font: character "'+e+'" does not exists in font family '+a.familyName+".");return}const c=new ct;let l,m,g,w,_,P,p,u;if(h.o){const r=h._cachedOutline||(h._cachedOutline=h.o.split(" "));for(let s=0,d=r.length;s<d;)switch(r[s++]){case"m":l=r[s++]*t+o,m=r[s++]*t+i,c.moveTo(l,m);break;case"l":l=r[s++]*t+o,m=r[s++]*t+i,c.lineTo(l,m);break;case"q":g=r[s++]*t+o,w=r[s++]*t+i,_=r[s++]*t+o,P=r[s++]*t+i,c.quadraticCurveTo(_,P,g,w);break;case"b":g=r[s++]*t+o,w=r[s++]*t+i,_=r[s++]*t+o,P=r[s++]*t+i,p=r[s++]*t+o,u=r[s++]*t+i,c.bezierCurveTo(_,P,p,u,g,w);break}}return{offsetX:h.ha*t,path:c}}class Bt extends ${constructor(t,o={}){const i=o.font;if(i===void 0)super();else{const a=i.generateShapes(t,o.size);o.depth===void 0&&(o.depth=50),o.bevelThickness===void 0&&(o.bevelThickness=10),o.bevelSize===void 0&&(o.bevelSize=8),o.bevelEnabled===void 0&&(o.bevelEnabled=!1),super(a,o)}this.type="TextGeometry"}}let f,y,S,U,z,x,C,M=[];const I=[];let D=null,B=!1,tt=null,Wt=1e3;Xt();function k(e,t,o,i,a){const h=[];for(let s=0;s<10;s++){const d=s%2==1?10:20,j=s/5*Math.PI;h.push(new E(Math.cos(j)*d,Math.sin(j)*d))}const l=new Pt(h),m=new K({color:6037302,wireframe:!1}),w=[new K({color:16761566,wireframe:!1}),m],_=20,P={depth:_,steps:1,bevelEnabled:!0,bevelThickness:2,bevelSize:4,bevelSegments:1},p=new $(l,P),u=new V(p,w);return u.position.set(e,t,o),u.userData.isHovered=!1,u.name=i,new It().load("fonts/optimer_bold.typeface.json",function(s){const d=new Bt(a,{font:s,size:10,depth:5,height:0,curveSegments:8});d.computeBoundingBox();const j=d.boundingBox.max.x-d.boundingBox.min.x,ot=_+1;d.translate(-j/2,1.5,ot);const it=new vt({color:16777215,metalness:.5,roughness:.5}),st=new V(d,it);u.add(st)},function(s){console.log(s.loaded/s.total*100+"% loaded")},function(s){console.log("An error happened")}),u}function Xt(){S=new pt({antialias:!0}),S.setPixelRatio(window.devicePixelRatio),S.setSize(window.innerWidth,window.innerHeight),S.setAnimationLoop(et),document.body.appendChild(S.domElement),f=new lt(45,window.innerWidth/window.innerHeight,1,1e3),f.position.set(0,0,500),y=new dt,y.fog=new mt(0,8e-4);const e=new ut,t=[],o=new _t,i=p=>{p.colorSpace=A},a=o.load("textures/sprites/snowflake4.png",i);a.colorSpace=A;const h=o.load("textures/sprites/snowflake2.png",i);h.colorSpace=A;const c=o.load("textures/sprites/snowflake5.png",i);c.colorSpace=A;for(let p=0;p<1e4;p++){const u=Math.random()*2e3-1e3,r=Math.random()*2e3-1e3,s=Math.random()*2e3-1e3;t.push(u,r,s)}e.setAttribute("position",new yt(t,3)),C=[[[.8,.2,.87],h,10],[[.92,.31,.54],c,7],[[.92,.31,.54],a,5]];for(let p=0;p<C.length;p++){const u=C[p][0],r=C[p][1],s=C[p][2];I[p]=new ft({size:s,map:r,blending:gt,depthTest:!1,depthWrite:!1,transparent:!0}),I[p].color.setHSL(u[0],u[1],u[2]);const d=new J(e,I[p]);d.rotation.x=Math.random()*6,d.rotation.y=Math.random()*6,d.rotation.z=Math.random()*6,y.add(d)}U=new Mt(f,S.domElement),U.minDistance=200,U.maxDistance=500,y.add(new wt(6710886));const l=new bt(16777215,3,0,0);l.position.copy(f.position),y.add(l);const m=k(-250,50,10,"star1","Experience");y.add(m);const g=k(-150,-100,10,"star2","Compétences");y.add(g);const w=k(-50,30,10,"star3","Cursus");y.add(w);const _=k(30,-120,10,"star4","Intérets");y.add(_);const P=k(200,20,10,"star5","???");y.add(P),M.push(m),M.push(g),M.push(w),M.push(_),M.push(P),z=new Et,x=new E,window.addEventListener("mousemove",qt),window.addEventListener("click",Kt),window.addEventListener("resize",Vt)}function qt(e){x.x=e.clientX/window.innerWidth*2-1,x.y=-(e.clientY/window.innerHeight)*2+1,z.setFromCamera(x,f),z.intersectObjects(M).forEach(o=>{const i=o.object;i.userData.spinning||(i.userData.spinning=!0,i.userData.startRotation=i.rotation.y,i.userData.targetRotation=i.rotation.y+Math.PI*2)})}function Kt(e){x.x=e.clientX/window.innerWidth*2-1,x.y=-(e.clientY/window.innerHeight)*2+1,z.setFromCamera(x,f);const t=z.intersectObjects(M);t.length>0&&(D=t[0].object,B=!0,tt=performance.now(),zoomStartPos=f.position.clone())}function Vt(){f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix(),S.setSize(window.innerWidth,window.innerHeight)}function Gt(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function et(){if(requestAnimationFrame(et),U.update(),M.forEach(e=>{e.userData.spinning&&(e.rotation.y+=.001,Math.cos(e.rotation.y)>0?e.position.y+=.005:e.position.y-=.005,e.rotation.y>=e.userData.targetRotation&&(e.rotation.y=e.userData.targetRotation,e.userData.spinning=!1))}),B&&D){const e=performance.now(),t=Math.min((e-tt)/Wt,1),o=Gt(t),i=D.position.clone().add(new b(0,0,3));f.position.lerpVectors(f.position,i,o),f.lookAt(D.position),t>=1&&(B=!1,setTimeout(()=>{window.location.href=`./${D.name}.html`},300))}Qt()}function Qt(){const e=Date.now()*1e-4;for(let t=0;t<y.children.length;t++){const o=y.children[t];o instanceof J&&(o.rotation.y=e*(t<4?t+1:-(t+1)))}for(let t=0;t<I.length;t++)C[t][0];S.render(y,f)}
